function Qf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Fc={exports:{}},Rs={},zc={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ii=Symbol.for("react.element"),Xf=Symbol.for("react.portal"),Zf=Symbol.for("react.fragment"),ep=Symbol.for("react.strict_mode"),tp=Symbol.for("react.profiler"),np=Symbol.for("react.provider"),rp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),ap=Symbol.for("react.lazy"),nu=Symbol.iterator;function lp(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var Mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vc=Object.assign,Wc={};function Zn(t,e,n){this.props=t,this.context=e,this.refs=Wc,this.updater=n||Mc}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hc(){}Hc.prototype=Zn.prototype;function Ka(t,e,n){this.props=t,this.context=e,this.refs=Wc,this.updater=n||Mc}var Ja=Ka.prototype=new Hc;Ja.constructor=Ka;Vc(Ja,Zn.prototype);Ja.isPureReactComponent=!0;var ru=Array.isArray,qc=Object.prototype.hasOwnProperty,Qa={current:null},Kc={key:!0,ref:!0,__self:!0,__source:!0};function Jc(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qc.call(e,r)&&!Kc.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ii,type:t,key:s,ref:o,props:i,_owner:Qa.current}}function up(t,e){return{$$typeof:ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===ii}function cp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iu=/\/+/g;function eo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cp(""+t.key):e.toString(36)}function Bi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ii:case Xf:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+eo(o,0):r,ru(i)?(n="",t!=null&&(n=t.replace(iu,"$&/")+"/"),Bi(i,e,n,"",function(u){return u})):i!=null&&(Ga(i)&&(i=up(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ru(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+eo(s,a);o+=Bi(s,e,n,l,i)}else if(l=lp(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+eo(s,a++),o+=Bi(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mi(t,e,n){if(t==null)return t;var r=[],i=0;return Bi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Fi={transition:null},hp={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Fi,ReactCurrentOwner:Qa};function Qc(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:mi,forEach:function(t,e,n){mi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mi(t,function(){e++}),e},toArray:function(t){return mi(t,function(e){return e})||[]},only:function(t){if(!Ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Zn;$.Fragment=Zf;$.Profiler=tp;$.PureComponent=Ka;$.StrictMode=ep;$.Suspense=sp;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;$.act=Qc;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qa.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qc.call(e,l)&&!Kc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ii,type:t.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:rp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:np,_context:t},t.Consumer=t};$.createElement=Jc;$.createFactory=function(t){var e=Jc.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:ip,render:t}};$.isValidElement=Ga;$.lazy=function(t){return{$$typeof:ap,_payload:{_status:-1,_result:t},_init:dp}};$.memo=function(t,e){return{$$typeof:op,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Fi.transition;Fi.transition={};try{t()}finally{Fi.transition=e}};$.unstable_act=Qc;$.useCallback=function(t,e){return Se.current.useCallback(t,e)};$.useContext=function(t){return Se.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};$.useEffect=function(t,e){return Se.current.useEffect(t,e)};$.useId=function(){return Se.current.useId()};$.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Se.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};$.useRef=function(t){return Se.current.useRef(t)};$.useState=function(t){return Se.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Se.current.useTransition()};$.version="18.3.1";zc.exports=$;var S=zc.exports;const Gc=Gf(S),fp=Qf({__proto__:null,default:Gc},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=S,mp=Symbol.for("react.element"),gp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,yp=pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wp={key:!0,ref:!0,__self:!0,__source:!0};function Yc(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vp.call(e,r)&&!wp.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mp,type:t,key:s,ref:o,props:i,_owner:yp.current}}Rs.Fragment=gp;Rs.jsx=Yc;Rs.jsxs=Yc;Fc.exports=Rs;var m=Fc.exports,Do={},Xc={exports:{}},De={},Zc={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,N){var I=C.length;C.push(N);e:for(;0<I;){var Q=I-1>>>1,j=C[Q];if(0<i(j,N))C[Q]=N,C[I]=j,I=Q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var N=C[0],I=C.pop();if(I!==N){C[0]=I;e:for(var Q=0,j=C.length,M=j>>>1;Q<M;){var ye=2*(Q+1)-1,xt=C[ye],te=ye+1,pi=C[te];if(0>i(xt,I))te<j&&0>i(pi,xt)?(C[Q]=pi,C[te]=I,Q=te):(C[Q]=xt,C[ye]=I,Q=ye);else if(te<j&&0>i(pi,I))C[Q]=pi,C[te]=I,Q=te;else break e}}return N}function i(C,N){var I=C.sortIndex-N.sortIndex;return I!==0?I:C.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,g=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=C)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(u)}}function k(C){if(w=!1,v(C),!y)if(n(l)!==null)y=!0,ar(x);else{var N=n(u);N!==null&&lr(k,N.startTime-C)}}function x(C,N){y=!1,w&&(w=!1,f(b),b=-1),g=!0;var I=p;try{for(v(N),d=n(l);d!==null&&(!(d.expirationTime>N)||C&&!H());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,p=d.priorityLevel;var j=Q(d.expirationTime<=N);N=t.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&r(l),v(N)}else r(l);d=n(l)}if(d!==null)var M=!0;else{var ye=n(u);ye!==null&&lr(k,ye.startTime-N),M=!1}return M}finally{d=null,p=I,g=!1}}var P=!1,R=null,b=-1,O=5,L=-1;function H(){return!(t.unstable_now()-L<O)}function F(){if(R!==null){var C=t.unstable_now();L=C;var N=!0;try{N=R(!0,C)}finally{N?ee():(P=!1,R=null)}}else P=!1}var ee;if(typeof h=="function")ee=function(){h(F)};else if(typeof MessageChannel<"u"){var hi=new MessageChannel,fi=hi.port2;hi.port1.onmessage=F,ee=function(){fi.postMessage(null)}}else ee=function(){_(F,0)};function ar(C){R=C,P||(P=!0,ee())}function lr(C,N){b=_(function(){C(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ar(x))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var I=p;p=N;try{return C()}finally{p=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=p;p=C;try{return N()}finally{p=I}},t.unstable_scheduleCallback=function(C,N,I){var Q=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,C){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=I+j,C={id:c++,callback:N,priorityLevel:C,startTime:I,expirationTime:j,sortIndex:-1},I>Q?(C.sortIndex=I,e(u,C),n(l)===null&&C===n(u)&&(w?(f(b),b=-1):w=!0,lr(k,I-Q))):(C.sortIndex=j,e(l,C),y||g||(y=!0,ar(x))),C},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(C){var N=p;return function(){var I=p;p=N;try{return C.apply(this,arguments)}finally{p=I}}}})(ed);Zc.exports=ed;var _p=Zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=S,$e=_p;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,Ur={};function gn(t,e){Wn(t,e),Wn(t+"Capture",e)}function Wn(t,e){for(Ur[t]=e,t=0;t<e.length;t++)td.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,su={},ou={};function Ep(t){return Uo.call(ou,t)?!0:Uo.call(su,t)?!1:Sp.test(t)?ou[t]=!0:(su[t]=!0,!1)}function xp(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cp(t,e,n,r){if(e===null||typeof e>"u"||xp(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ya=/[\-:]([a-z])/g;function Xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ya,Xa);fe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ya,Xa);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ya,Xa);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Za(t,e,n,r){var i=fe.hasOwnProperty(e)?fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cp(e,n,i,r)&&(n=null),r||i===null?Ep(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kt=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gi=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),nd=Symbol.for("react.provider"),rd=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),id=Symbol.for("react.offscreen"),au=Symbol.iterator;function ur(t){return t===null||typeof t!="object"?null:(t=au&&t[au]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,to;function wr(t){if(to===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);to=e&&e[1]||""}return`
`+to+t}var no=!1;function ro(t,e){if(!t||no)return"";no=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{no=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wr(t):""}function Tp(t){switch(t.tag){case 5:return wr(t.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 2:case 15:return t=ro(t.type,!1),t;case 11:return t=ro(t.type.render,!1),t;case 1:return t=ro(t.type,!0),t;default:return""}}function Mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tn:return"Fragment";case Cn:return"Portal";case Bo:return"Profiler";case el:return"StrictMode";case Fo:return"Suspense";case zo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rd:return(t.displayName||"Context")+".Consumer";case nd:return(t._context.displayName||"Context")+".Provider";case tl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nl:return e=t.displayName||null,e!==null?e:Mo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Mo(t(e))}catch{}}return null}function Pp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(e);case 8:return e===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rp(t){var e=sd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vi(t){t._valueTracker||(t._valueTracker=Rp(t))}function od(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vo(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ad(t,e){e=e.checked,e!=null&&Za(t,"checked",e,!1)}function Wo(t,e){ad(t,e);var n=Kt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ho(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ho(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ho(t,e,n){(e!=="number"||es(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _r=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(_r(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kt(n)}}function ld(t,e){var n=Kt(e.value),r=Kt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function du(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ud(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yi,cd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bp=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(t){bp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cr[e]=Cr[t]})});function dd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cr.hasOwnProperty(t)&&Cr[t]?(""+e).trim():e+"px"}function hd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jp=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(t,e){if(e){if(jp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Qo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=null;function rl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yo=null,Un=null,Bn=null;function hu(t){if(t=ai(t)){if(typeof Yo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=As(e),Yo(t.stateNode,t.type,e))}}function fd(t){Un?Bn?Bn.push(t):Bn=[t]:Un=t}function pd(){if(Un){var t=Un,e=Bn;if(Bn=Un=null,hu(t),e)for(t=0;t<e.length;t++)hu(e[t])}}function md(t,e){return t(e)}function gd(){}var io=!1;function vd(t,e,n){if(io)return t(e,n);io=!0;try{return md(t,e,n)}finally{io=!1,(Un!==null||Bn!==null)&&(gd(),pd())}}function Fr(t,e){var n=t.stateNode;if(n===null)return null;var r=As(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Xo=!1;if(vt)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Xo=!1}function Op(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tr=!1,ts=null,ns=!1,Zo=null,Np={onError:function(t){Tr=!0,ts=t}};function Ap(t,e,n,r,i,s,o,a,l){Tr=!1,ts=null,Op.apply(Np,arguments)}function Lp(t,e,n,r,i,s,o,a,l){if(Ap.apply(this,arguments),Tr){if(Tr){var u=ts;Tr=!1,ts=null}else throw Error(E(198));ns||(ns=!0,Zo=u)}}function vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fu(t){if(vn(t)!==t)throw Error(E(188))}function Ip(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fu(i),t;if(s===r)return fu(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function wd(t){return t=Ip(t),t!==null?_d(t):null}function _d(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_d(t);if(e!==null)return e;t=t.sibling}return null}var kd=$e.unstable_scheduleCallback,pu=$e.unstable_cancelCallback,$p=$e.unstable_shouldYield,Dp=$e.unstable_requestPaint,ne=$e.unstable_now,Up=$e.unstable_getCurrentPriorityLevel,il=$e.unstable_ImmediatePriority,Sd=$e.unstable_UserBlockingPriority,rs=$e.unstable_NormalPriority,Bp=$e.unstable_LowPriority,Ed=$e.unstable_IdlePriority,bs=null,at=null;function Fp(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(bs,t,void 0,(t.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Vp,zp=Math.log,Mp=Math.LN2;function Vp(t){return t>>>=0,t===0?32:31-(zp(t)/Mp|0)|0}var wi=64,_i=4194304;function kr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function is(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=kr(a):(s&=o,s!==0&&(r=kr(s)))}else o=n&~i,o!==0?r=kr(o):s!==0&&(r=kr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-et(e),i=1<<n,r|=t[n],e&=~i;return r}function Wp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-et(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Wp(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xd(){var t=wi;return wi<<=1,!(wi&4194240)&&(wi=64),t}function so(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function si(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-et(e),t[e]=n}function qp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-et(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-et(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var z=0;function Cd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Td,ol,Pd,Rd,bd,ta=!1,ki=[],Dt=null,Ut=null,Bt=null,zr=new Map,Mr=new Map,Ot=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":zr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(e.pointerId)}}function dr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ai(e),e!==null&&ol(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jp(t,e,n,r,i){switch(e){case"focusin":return Dt=dr(Dt,t,e,n,r,i),!0;case"dragenter":return Ut=dr(Ut,t,e,n,r,i),!0;case"mouseover":return Bt=dr(Bt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zr.set(s,dr(zr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mr.set(s,dr(Mr.get(s)||null,t,e,n,r,i)),!0}return!1}function jd(t){var e=on(t.target);if(e!==null){var n=vn(e);if(n!==null){if(e=n.tag,e===13){if(e=yd(n),e!==null){t.blockedOn=e,bd(t.priority,function(){Pd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=na(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Go=r,n.target.dispatchEvent(r),Go=null}else return e=ai(n),e!==null&&ol(e),t.blockedOn=n,!1;e.shift()}return!0}function gu(t,e,n){zi(t)&&n.delete(e)}function Qp(){ta=!1,Dt!==null&&zi(Dt)&&(Dt=null),Ut!==null&&zi(Ut)&&(Ut=null),Bt!==null&&zi(Bt)&&(Bt=null),zr.forEach(gu),Mr.forEach(gu)}function hr(t,e){t.blockedOn===e&&(t.blockedOn=null,ta||(ta=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,Qp)))}function Vr(t){function e(i){return hr(i,t)}if(0<ki.length){hr(ki[0],t);for(var n=1;n<ki.length;n++){var r=ki[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dt!==null&&hr(Dt,t),Ut!==null&&hr(Ut,t),Bt!==null&&hr(Bt,t),zr.forEach(e),Mr.forEach(e),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&Ot.shift()}var Fn=kt.ReactCurrentBatchConfig,ss=!0;function Gp(t,e,n,r){var i=z,s=Fn.transition;Fn.transition=null;try{z=1,al(t,e,n,r)}finally{z=i,Fn.transition=s}}function Yp(t,e,n,r){var i=z,s=Fn.transition;Fn.transition=null;try{z=4,al(t,e,n,r)}finally{z=i,Fn.transition=s}}function al(t,e,n,r){if(ss){var i=na(t,e,n,r);if(i===null)go(t,e,r,os,n),mu(t,r);else if(Jp(i,t,e,n,r))r.stopPropagation();else if(mu(t,r),e&4&&-1<Kp.indexOf(t)){for(;i!==null;){var s=ai(i);if(s!==null&&Td(s),s=na(t,e,n,r),s===null&&go(t,e,r,os,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else go(t,e,r,null,n)}}var os=null;function na(t,e,n,r){if(os=null,t=rl(r),t=on(t),t!==null)if(e=vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return os=t,null}function Od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Up()){case il:return 1;case Sd:return 4;case rs:case Bp:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Lt=null,ll=null,Mi=null;function Nd(){if(Mi)return Mi;var t,e=ll,n=e.length,r,i="value"in Lt?Lt.value:Lt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mi=i.slice(t,1<r?1-r:void 0)}function Vi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function vu(){return!1}function Ue(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Si:vu,this.isPropagationStopped=vu,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),e}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Ue(er),oi=X({},er,{view:0,detail:0}),Xp=Ue(oi),oo,ao,fr,js=X({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(oo=t.screenX-fr.screenX,ao=t.screenY-fr.screenY):ao=oo=0,fr=t),oo)},movementY:function(t){return"movementY"in t?t.movementY:ao}}),yu=Ue(js),Zp=X({},js,{dataTransfer:0}),em=Ue(Zp),tm=X({},oi,{relatedTarget:0}),lo=Ue(tm),nm=X({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Ue(nm),im=X({},er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sm=Ue(im),om=X({},er,{data:0}),wu=Ue(om),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=um[t])?!!e[t]:!1}function cl(){return cm}var dm=X({},oi,{key:function(t){if(t.key){var e=am[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?Vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hm=Ue(dm),fm=X({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=Ue(fm),pm=X({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),mm=Ue(pm),gm=X({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=Ue(gm),ym=X({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=Ue(ym),_m=[9,13,27,32],dl=vt&&"CompositionEvent"in window,Pr=null;vt&&"documentMode"in document&&(Pr=document.documentMode);var km=vt&&"TextEvent"in window&&!Pr,Ad=vt&&(!dl||Pr&&8<Pr&&11>=Pr),ku=String.fromCharCode(32),Su=!1;function Ld(t,e){switch(t){case"keyup":return _m.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function Sm(t,e){switch(t){case"compositionend":return Id(e);case"keypress":return e.which!==32?null:(Su=!0,ku);case"textInput":return t=e.data,t===ku&&Su?null:t;default:return null}}function Em(t,e){if(Pn)return t==="compositionend"||!dl&&Ld(t,e)?(t=Nd(),Mi=ll=Lt=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ad&&e.locale!=="ko"?null:e.data;default:return null}}var xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xm[t.type]:e==="textarea"}function $d(t,e,n,r){fd(r),e=as(e,"onChange"),0<e.length&&(n=new ul("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rr=null,Wr=null;function Cm(t){Kd(t,0)}function Os(t){var e=jn(t);if(od(e))return t}function Tm(t,e){if(t==="change")return e}var Dd=!1;if(vt){var uo;if(vt){var co="oninput"in document;if(!co){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),co=typeof xu.oninput=="function"}uo=co}else uo=!1;Dd=uo&&(!document.documentMode||9<document.documentMode)}function Cu(){Rr&&(Rr.detachEvent("onpropertychange",Ud),Wr=Rr=null)}function Ud(t){if(t.propertyName==="value"&&Os(Wr)){var e=[];$d(e,Wr,t,rl(t)),vd(Cm,e)}}function Pm(t,e,n){t==="focusin"?(Cu(),Rr=e,Wr=n,Rr.attachEvent("onpropertychange",Ud)):t==="focusout"&&Cu()}function Rm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Os(Wr)}function bm(t,e){if(t==="click")return Os(e)}function jm(t,e){if(t==="input"||t==="change")return Os(e)}function Om(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:Om;function Hr(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uo.call(e,i)||!nt(t[i],e[i]))return!1}return!0}function Tu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pu(t,e){var n=Tu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tu(n)}}function Bd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fd(){for(var t=window,e=es();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=es(t.document)}return e}function hl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nm(t){var e=Fd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(r!==null&&hl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pu(n,s);var o=Pu(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Am=vt&&"documentMode"in document&&11>=document.documentMode,Rn=null,ra=null,br=null,ia=!1;function Ru(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ia||Rn==null||Rn!==es(r)||(r=Rn,"selectionStart"in r&&hl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),br&&Hr(br,r)||(br=r,r=as(ra,"onSelect"),0<r.length&&(e=new ul("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rn)))}function Ei(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bn={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},ho={},zd={};vt&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function Ns(t){if(ho[t])return ho[t];if(!bn[t])return t;var e=bn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zd)return ho[t]=e[n];return t}var Md=Ns("animationend"),Vd=Ns("animationiteration"),Wd=Ns("animationstart"),Hd=Ns("transitionend"),qd=new Map,bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){qd.set(t,e),gn(e,[t])}for(var fo=0;fo<bu.length;fo++){var po=bu[fo],Lm=po.toLowerCase(),Im=po[0].toUpperCase()+po.slice(1);Qt(Lm,"on"+Im)}Qt(Md,"onAnimationEnd");Qt(Vd,"onAnimationIteration");Qt(Wd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Hd,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function ju(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Lp(r,e,void 0,t),t.currentTarget=null}function Kd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ju(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ju(i,a,u),s=l}}}if(ns)throw t=Zo,ns=!1,Zo=null,t}function q(t,e){var n=e[ua];n===void 0&&(n=e[ua]=new Set);var r=t+"__bubble";n.has(r)||(Jd(e,t,2,!1),n.add(r))}function mo(t,e,n){var r=0;e&&(r|=4),Jd(n,t,r,e)}var xi="_reactListening"+Math.random().toString(36).slice(2);function qr(t){if(!t[xi]){t[xi]=!0,td.forEach(function(n){n!=="selectionchange"&&($m.has(n)||mo(n,!1,t),mo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xi]||(e[xi]=!0,mo("selectionchange",!1,e))}}function Jd(t,e,n,r){switch(Od(e)){case 1:var i=Gp;break;case 4:i=Yp;break;default:i=al}n=i.bind(null,e,n,t),i=void 0,!Xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function go(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=on(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vd(function(){var u=s,c=rl(n),d=[];e:{var p=qd.get(t);if(p!==void 0){var g=ul,y=t;switch(t){case"keypress":if(Vi(n)===0)break e;case"keydown":case"keyup":g=hm;break;case"focusin":y="focus",g=lo;break;case"focusout":y="blur",g=lo;break;case"beforeblur":case"afterblur":g=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mm;break;case Md:case Vd:case Wd:g=rm;break;case Hd:g=vm;break;case"scroll":g=Xp;break;case"wheel":g=wm;break;case"copy":case"cut":case"paste":g=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_u}var w=(e&4)!==0,_=!w&&t==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var h=u,v;h!==null;){v=h;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,f!==null&&(k=Fr(h,f),k!=null&&w.push(Kr(h,k,v)))),_)break;h=h.return}0<w.length&&(p=new g(p,y,null,n,c),d.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Go&&(y=n.relatedTarget||n.fromElement)&&(on(y)||y[yt]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?on(y):null,y!==null&&(_=vn(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=yu,k="onMouseLeave",f="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=_u,k="onPointerLeave",f="onPointerEnter",h="pointer"),_=g==null?p:jn(g),v=y==null?p:jn(y),p=new w(k,h+"leave",g,n,c),p.target=_,p.relatedTarget=v,k=null,on(c)===u&&(w=new w(f,h+"enter",y,n,c),w.target=v,w.relatedTarget=_,k=w),_=k,g&&y)t:{for(w=g,f=y,h=0,v=w;v;v=_n(v))h++;for(v=0,k=f;k;k=_n(k))v++;for(;0<h-v;)w=_n(w),h--;for(;0<v-h;)f=_n(f),v--;for(;h--;){if(w===f||f!==null&&w===f.alternate)break t;w=_n(w),f=_n(f)}w=null}else w=null;g!==null&&Ou(d,p,g,w,!1),y!==null&&_!==null&&Ou(d,_,y,w,!0)}}e:{if(p=u?jn(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var x=Tm;else if(Eu(p))if(Dd)x=jm;else{x=Rm;var P=Pm}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=bm);if(x&&(x=x(t,u))){$d(d,x,n,c);break e}P&&P(t,p,u),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Ho(p,"number",p.value)}switch(P=u?jn(u):window,t){case"focusin":(Eu(P)||P.contentEditable==="true")&&(Rn=P,ra=u,br=null);break;case"focusout":br=ra=Rn=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,Ru(d,n,c);break;case"selectionchange":if(Am)break;case"keydown":case"keyup":Ru(d,n,c)}var R;if(dl)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Pn?Ld(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Ad&&n.locale!=="ko"&&(Pn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Pn&&(R=Nd()):(Lt=c,ll="value"in Lt?Lt.value:Lt.textContent,Pn=!0)),P=as(u,b),0<P.length&&(b=new wu(b,t,null,n,c),d.push({event:b,listeners:P}),R?b.data=R:(R=Id(n),R!==null&&(b.data=R)))),(R=km?Sm(t,n):Em(t,n))&&(u=as(u,"onBeforeInput"),0<u.length&&(c=new wu("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}Kd(d,e)})}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function as(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fr(t,n),s!=null&&r.unshift(Kr(t,s,i)),s=Fr(t,e),s!=null&&r.push(Kr(t,s,i))),t=t.return}return r}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ou(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Fr(n,s),l!=null&&o.unshift(Kr(n,l,a))):i||(l=Fr(n,s),l!=null&&o.push(Kr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Dm=/\r\n?/g,Um=/\u0000|\uFFFD/g;function Nu(t){return(typeof t=="string"?t:""+t).replace(Dm,`
`).replace(Um,"")}function Ci(t,e,n){if(e=Nu(e),Nu(t)!==e&&n)throw Error(E(425))}function ls(){}var sa=null,oa=null;function aa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,Fm=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(t){return Au.resolve(null).then(t).catch(zm)}:la;function zm(t){setTimeout(function(){throw t})}function vo(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vr(e)}function Ft(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tr=Math.random().toString(36).slice(2),ot="__reactFiber$"+tr,Jr="__reactProps$"+tr,yt="__reactContainer$"+tr,ua="__reactEvents$"+tr,Mm="__reactListeners$"+tr,Vm="__reactHandles$"+tr;function on(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lu(t);t!==null;){if(n=t[ot])return n;t=Lu(t)}return e}t=n,n=t.parentNode}return null}function ai(t){return t=t[ot]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function As(t){return t[Jr]||null}var ca=[],On=-1;function Gt(t){return{current:t}}function K(t){0>On||(t.current=ca[On],ca[On]=null,On--)}function W(t,e){On++,ca[On]=t.current,t.current=e}var Jt={},ve=Gt(Jt),be=Gt(!1),dn=Jt;function Hn(t,e){var n=t.type.contextTypes;if(!n)return Jt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function je(t){return t=t.childContextTypes,t!=null}function us(){K(be),K(ve)}function Iu(t,e,n){if(ve.current!==Jt)throw Error(E(168));W(ve,e),W(be,n)}function Qd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,Pp(t)||"Unknown",i));return X({},n,r)}function cs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,dn=ve.current,W(ve,t),W(be,be.current),!0}function $u(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Qd(t,e,dn),r.__reactInternalMemoizedMergedChildContext=t,K(be),K(ve),W(ve,t)):K(be),W(be,n)}var ft=null,Ls=!1,yo=!1;function Gd(t){ft===null?ft=[t]:ft.push(t)}function Wm(t){Ls=!0,Gd(t)}function Yt(){if(!yo&&ft!==null){yo=!0;var t=0,e=z;try{var n=ft;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,Ls=!1}catch(i){throw ft!==null&&(ft=ft.slice(t+1)),kd(il,Yt),i}finally{z=e,yo=!1}}return null}var Nn=[],An=0,ds=null,hs=0,Be=[],Fe=0,hn=null,pt=1,mt="";function tn(t,e){Nn[An++]=hs,Nn[An++]=ds,ds=t,hs=e}function Yd(t,e,n){Be[Fe++]=pt,Be[Fe++]=mt,Be[Fe++]=hn,hn=t;var r=pt;t=mt;var i=32-et(r)-1;r&=~(1<<i),n+=1;var s=32-et(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pt=1<<32-et(e)+i|n<<i|r,mt=s+t}else pt=1<<s|n<<i|r,mt=t}function fl(t){t.return!==null&&(tn(t,1),Yd(t,1,0))}function pl(t){for(;t===ds;)ds=Nn[--An],Nn[An]=null,hs=Nn[--An],Nn[An]=null;for(;t===hn;)hn=Be[--Fe],Be[Fe]=null,mt=Be[--Fe],Be[Fe]=null,pt=Be[--Fe],Be[Fe]=null}var Ie=null,Le=null,J=!1,Ze=null;function Xd(t,e){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Du(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Le=Ft(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hn!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ie=t,Le=null,!0):!1;default:return!1}}function da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ha(t){if(J){var e=Le;if(e){var n=e;if(!Du(t,e)){if(da(t))throw Error(E(418));e=Ft(n.nextSibling);var r=Ie;e&&Du(t,e)?Xd(r,n):(t.flags=t.flags&-4097|2,J=!1,Ie=t)}}else{if(da(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Ie=t}}}function Uu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function Ti(t){if(t!==Ie)return!1;if(!J)return Uu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aa(t.type,t.memoizedProps)),e&&(e=Le)){if(da(t))throw Zd(),Error(E(418));for(;e;)Xd(t,e),e=Ft(e.nextSibling)}if(Uu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Le=Ft(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Ie?Ft(t.stateNode.nextSibling):null;return!0}function Zd(){for(var t=Le;t;)t=Ft(t.nextSibling)}function qn(){Le=Ie=null,J=!1}function ml(t){Ze===null?Ze=[t]:Ze.push(t)}var Hm=kt.ReactCurrentBatchConfig;function pr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Pi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bu(t){var e=t._init;return e(t._payload)}function eh(t){function e(f,h){if(t){var v=f.deletions;v===null?(f.deletions=[h],f.flags|=16):v.push(h)}}function n(f,h){if(!t)return null;for(;h!==null;)e(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function i(f,h){return f=Wt(f,h),f.index=0,f.sibling=null,f}function s(f,h,v){return f.index=v,t?(v=f.alternate,v!==null?(v=v.index,v<h?(f.flags|=2,h):v):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,h,v,k){return h===null||h.tag!==6?(h=Co(v,f.mode,k),h.return=f,h):(h=i(h,v),h.return=f,h)}function l(f,h,v,k){var x=v.type;return x===Tn?c(f,h,v.props.children,k,v.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Rt&&Bu(x)===h.type)?(k=i(h,v.props),k.ref=pr(f,h,v),k.return=f,k):(k=Gi(v.type,v.key,v.props,null,f.mode,k),k.ref=pr(f,h,v),k.return=f,k)}function u(f,h,v,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=To(v,f.mode,k),h.return=f,h):(h=i(h,v.children||[]),h.return=f,h)}function c(f,h,v,k,x){return h===null||h.tag!==7?(h=cn(v,f.mode,k,x),h.return=f,h):(h=i(h,v),h.return=f,h)}function d(f,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Co(""+h,f.mode,v),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case gi:return v=Gi(h.type,h.key,h.props,null,f.mode,v),v.ref=pr(f,null,h),v.return=f,v;case Cn:return h=To(h,f.mode,v),h.return=f,h;case Rt:var k=h._init;return d(f,k(h._payload),v)}if(_r(h)||ur(h))return h=cn(h,f.mode,v,null),h.return=f,h;Pi(f,h)}return null}function p(f,h,v,k){var x=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(f,h,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gi:return v.key===x?l(f,h,v,k):null;case Cn:return v.key===x?u(f,h,v,k):null;case Rt:return x=v._init,p(f,h,x(v._payload),k)}if(_r(v)||ur(v))return x!==null?null:c(f,h,v,k,null);Pi(f,v)}return null}function g(f,h,v,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(v)||null,a(h,f,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gi:return f=f.get(k.key===null?v:k.key)||null,l(h,f,k,x);case Cn:return f=f.get(k.key===null?v:k.key)||null,u(h,f,k,x);case Rt:var P=k._init;return g(f,h,v,P(k._payload),x)}if(_r(k)||ur(k))return f=f.get(v)||null,c(h,f,k,x,null);Pi(h,k)}return null}function y(f,h,v,k){for(var x=null,P=null,R=h,b=h=0,O=null;R!==null&&b<v.length;b++){R.index>b?(O=R,R=null):O=R.sibling;var L=p(f,R,v[b],k);if(L===null){R===null&&(R=O);break}t&&R&&L.alternate===null&&e(f,R),h=s(L,h,b),P===null?x=L:P.sibling=L,P=L,R=O}if(b===v.length)return n(f,R),J&&tn(f,b),x;if(R===null){for(;b<v.length;b++)R=d(f,v[b],k),R!==null&&(h=s(R,h,b),P===null?x=R:P.sibling=R,P=R);return J&&tn(f,b),x}for(R=r(f,R);b<v.length;b++)O=g(R,f,b,v[b],k),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?b:O.key),h=s(O,h,b),P===null?x=O:P.sibling=O,P=O);return t&&R.forEach(function(H){return e(f,H)}),J&&tn(f,b),x}function w(f,h,v,k){var x=ur(v);if(typeof x!="function")throw Error(E(150));if(v=x.call(v),v==null)throw Error(E(151));for(var P=x=null,R=h,b=h=0,O=null,L=v.next();R!==null&&!L.done;b++,L=v.next()){R.index>b?(O=R,R=null):O=R.sibling;var H=p(f,R,L.value,k);if(H===null){R===null&&(R=O);break}t&&R&&H.alternate===null&&e(f,R),h=s(H,h,b),P===null?x=H:P.sibling=H,P=H,R=O}if(L.done)return n(f,R),J&&tn(f,b),x;if(R===null){for(;!L.done;b++,L=v.next())L=d(f,L.value,k),L!==null&&(h=s(L,h,b),P===null?x=L:P.sibling=L,P=L);return J&&tn(f,b),x}for(R=r(f,R);!L.done;b++,L=v.next())L=g(R,f,b,L.value,k),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?b:L.key),h=s(L,h,b),P===null?x=L:P.sibling=L,P=L);return t&&R.forEach(function(F){return e(f,F)}),J&&tn(f,b),x}function _(f,h,v,k){if(typeof v=="object"&&v!==null&&v.type===Tn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gi:e:{for(var x=v.key,P=h;P!==null;){if(P.key===x){if(x=v.type,x===Tn){if(P.tag===7){n(f,P.sibling),h=i(P,v.props.children),h.return=f,f=h;break e}}else if(P.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Rt&&Bu(x)===P.type){n(f,P.sibling),h=i(P,v.props),h.ref=pr(f,P,v),h.return=f,f=h;break e}n(f,P);break}else e(f,P);P=P.sibling}v.type===Tn?(h=cn(v.props.children,f.mode,k,v.key),h.return=f,f=h):(k=Gi(v.type,v.key,v.props,null,f.mode,k),k.ref=pr(f,h,v),k.return=f,f=k)}return o(f);case Cn:e:{for(P=v.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(f,h.sibling),h=i(h,v.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else e(f,h);h=h.sibling}h=To(v,f.mode,k),h.return=f,f=h}return o(f);case Rt:return P=v._init,_(f,h,P(v._payload),k)}if(_r(v))return y(f,h,v,k);if(ur(v))return w(f,h,v,k);Pi(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(f,h.sibling),h=i(h,v),h.return=f,f=h):(n(f,h),h=Co(v,f.mode,k),h.return=f,f=h),o(f)):n(f,h)}return _}var Kn=eh(!0),th=eh(!1),fs=Gt(null),ps=null,Ln=null,gl=null;function vl(){gl=Ln=ps=null}function yl(t){var e=fs.current;K(fs),t._currentValue=e}function fa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zn(t,e){ps=t,gl=Ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(gl!==t)if(t={context:t,memoizedValue:e,next:null},Ln===null){if(ps===null)throw Error(E(308));Ln=t,ps.dependencies={lanes:0,firstContext:t}}else Ln=Ln.next=t;return e}var an=null;function wl(t){an===null?an=[t]:an.push(t)}function nh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wl(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bt=!1;function _l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,wl(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function Wi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sl(t,n)}}function Fu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ms(t,e,n,r){var i=t.updateQueue;bt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(p=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(g,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(g,d,p):y,p==null)break e;d=X({},d,p);break e;case 2:bt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pn|=o,t.lanes=o,t.memoizedState=d}}function zu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var li={},lt=Gt(li),Qr=Gt(li),Gr=Gt(li);function ln(t){if(t===li)throw Error(E(174));return t}function kl(t,e){switch(W(Gr,e),W(Qr,t),W(lt,li),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ko(e,t)}K(lt),W(lt,e)}function Jn(){K(lt),K(Qr),K(Gr)}function ih(t){ln(Gr.current);var e=ln(lt.current),n=Ko(e,t.type);e!==n&&(W(Qr,t),W(lt,n))}function Sl(t){Qr.current===t&&(K(lt),K(Qr))}var G=Gt(0);function gs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wo=[];function El(){for(var t=0;t<wo.length;t++)wo[t]._workInProgressVersionPrimary=null;wo.length=0}var Hi=kt.ReactCurrentDispatcher,_o=kt.ReactCurrentBatchConfig,fn=0,Y=null,oe=null,ue=null,vs=!1,jr=!1,Yr=0,qm=0;function pe(){throw Error(E(321))}function xl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nt(t[n],e[n]))return!1;return!0}function Cl(t,e,n,r,i,s){if(fn=s,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hi.current=t===null||t.memoizedState===null?Gm:Ym,t=n(r,i),jr){s=0;do{if(jr=!1,Yr=0,25<=s)throw Error(E(301));s+=1,ue=oe=null,e.updateQueue=null,Hi.current=Xm,t=n(r,i)}while(jr)}if(Hi.current=ys,e=oe!==null&&oe.next!==null,fn=0,ue=oe=Y=null,vs=!1,e)throw Error(E(300));return t}function Tl(){var t=Yr!==0;return Yr=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Y.memoizedState=ue=t:ue=ue.next=t,ue}function qe(){if(oe===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?Y.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(E(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?Y.memoizedState=ue=t:ue=ue.next=t}return ue}function Xr(t,e){return typeof e=="function"?e(t):e}function ko(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Y.lanes|=c,pn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,nt(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Y.lanes|=s,pn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function So(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nt(s,e.memoizedState)||(Re=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sh(){}function oh(t,e){var n=Y,r=qe(),i=e(),s=!nt(r.memoizedState,i);if(s&&(r.memoizedState=i,Re=!0),r=r.queue,Pl(uh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Zr(9,lh.bind(null,n,r,i,e),void 0,null),ce===null)throw Error(E(349));fn&30||ah(n,e,i)}return i}function ah(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lh(t,e,n,r){e.value=n,e.getSnapshot=r,ch(e)&&dh(t)}function uh(t,e,n){return n(function(){ch(e)&&dh(t)})}function ch(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nt(t,n)}catch{return!0}}function dh(t){var e=wt(t,1);e!==null&&tt(e,t,1,-1)}function Mu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},e.queue=t,t=t.dispatch=Qm.bind(null,Y,t),[e.memoizedState,t]}function Zr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hh(){return qe().memoizedState}function qi(t,e,n,r){var i=st();Y.flags|=t,i.memoizedState=Zr(1|e,n,void 0,r===void 0?null:r)}function Is(t,e,n,r){var i=qe();r=r===void 0?null:r;var s=void 0;if(oe!==null){var o=oe.memoizedState;if(s=o.destroy,r!==null&&xl(r,o.deps)){i.memoizedState=Zr(e,n,s,r);return}}Y.flags|=t,i.memoizedState=Zr(1|e,n,s,r)}function Vu(t,e){return qi(8390656,8,t,e)}function Pl(t,e){return Is(2048,8,t,e)}function fh(t,e){return Is(4,2,t,e)}function ph(t,e){return Is(4,4,t,e)}function mh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gh(t,e,n){return n=n!=null?n.concat([t]):null,Is(4,4,mh.bind(null,e,t),n)}function Rl(){}function vh(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yh(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wh(t,e,n){return fn&21?(nt(n,e)||(n=xd(),Y.lanes|=n,pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function Km(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=_o.transition;_o.transition={};try{t(!1),e()}finally{z=n,_o.transition=r}}function _h(){return qe().memoizedState}function Jm(t,e,n){var r=Vt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kh(t))Sh(e,n);else if(n=nh(t,e,n,r),n!==null){var i=ke();tt(n,t,r,i),Eh(n,e,r)}}function Qm(t,e,n){var r=Vt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kh(t))Sh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nt(a,o)){var l=e.interleaved;l===null?(i.next=i,wl(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nh(t,e,i,r),n!==null&&(i=ke(),tt(n,t,r,i),Eh(n,e,r))}}function kh(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Sh(t,e){jr=vs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Eh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sl(t,n)}}var ys={readContext:He,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Gm={readContext:He,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:Vu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qi(4194308,4,mh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qi(4194308,4,t,e)},useInsertionEffect:function(t,e){return qi(4,2,t,e)},useMemo:function(t,e){var n=st();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=st();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jm.bind(null,Y,t),[r.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:Mu,useDebugValue:Rl,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=Mu(!1),e=t[0];return t=Km.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Y,i=st();if(J){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ce===null)throw Error(E(349));fn&30||ah(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vu(uh.bind(null,r,s,t),[t]),r.flags|=2048,Zr(9,lh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=st(),e=ce.identifierPrefix;if(J){var n=mt,r=pt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ym={readContext:He,useCallback:vh,useContext:He,useEffect:Pl,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:ph,useMemo:yh,useReducer:ko,useRef:hh,useState:function(){return ko(Xr)},useDebugValue:Rl,useDeferredValue:function(t){var e=qe();return wh(e,oe.memoizedState,t)},useTransition:function(){var t=ko(Xr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:sh,useSyncExternalStore:oh,useId:_h,unstable_isNewReconciler:!1},Xm={readContext:He,useCallback:vh,useContext:He,useEffect:Pl,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:ph,useMemo:yh,useReducer:So,useRef:hh,useState:function(){return So(Xr)},useDebugValue:Rl,useDeferredValue:function(t){var e=qe();return oe===null?e.memoizedState=t:wh(e,oe.memoizedState,t)},useTransition:function(){var t=So(Xr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:sh,useSyncExternalStore:oh,useId:_h,unstable_isNewReconciler:!1};function Qe(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $s={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Vt(t),s=gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=zt(t,s,i),e!==null&&(tt(e,t,i,r),Wi(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Vt(t),s=gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zt(t,s,i),e!==null&&(tt(e,t,i,r),Wi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Vt(t),i=gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=zt(t,i,r),e!==null&&(tt(e,t,r,n),Wi(e,t,r))}};function Wu(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hr(n,r)||!Hr(i,s):!0}function xh(t,e,n){var r=!1,i=Jt,s=e.contextType;return typeof s=="object"&&s!==null?s=He(s):(i=je(e)?dn:ve.current,r=e.contextTypes,s=(r=r!=null)?Hn(t,i):Jt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$s,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Hu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$s.enqueueReplaceState(e,e.state,null)}function ma(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_l(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=He(s):(s=je(e)?dn:ve.current,i.context=Hn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$s.enqueueReplaceState(i,i.state,null),ms(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qn(t,e){try{var n="",r=e;do n+=Tp(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ga(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zm=typeof WeakMap=="function"?WeakMap:Map;function Ch(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_s||(_s=!0,Ta=r),ga(t,e)},n}function Th(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ga(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ga(t,e),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zm;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fg.bind(null,t,e,n),e.then(t,t))}function Ku(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ju(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,zt(n,e,1))),n.lanes|=1),t)}var eg=kt.ReactCurrentOwner,Re=!1;function we(t,e,n,r){e.child=t===null?th(e,null,n,r):Kn(e,t.child,n,r)}function Qu(t,e,n,r,i){n=n.render;var s=e.ref;return zn(e,i),r=Cl(t,e,n,r,s,i),n=Tl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_t(t,e,i)):(J&&n&&fl(e),e.flags|=1,we(t,e,r,i),e.child)}function Gu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$l(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ph(t,e,s,r,i)):(t=Gi(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(o,r)&&t.ref===e.ref)return _t(t,e,i)}return e.flags|=1,t=Wt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ph(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hr(s,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,_t(t,e,i)}return va(t,e,n,r,i)}function Rh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W($n,Ae),Ae|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W($n,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,W($n,Ae),Ae|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,W($n,Ae),Ae|=r;return we(t,e,i,n),e.child}function bh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function va(t,e,n,r,i){var s=je(n)?dn:ve.current;return s=Hn(e,s),zn(e,i),n=Cl(t,e,n,r,s,i),r=Tl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_t(t,e,i)):(J&&r&&fl(e),e.flags|=1,we(t,e,n,i),e.child)}function Yu(t,e,n,r,i){if(je(n)){var s=!0;cs(e)}else s=!1;if(zn(e,i),e.stateNode===null)Ki(t,e),xh(e,n,r),ma(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=He(u):(u=je(n)?dn:ve.current,u=Hn(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hu(e,o,r,u),bt=!1;var p=e.memoizedState;o.state=p,ms(e,r,o,i),l=e.memoizedState,a!==r||p!==l||be.current||bt?(typeof c=="function"&&(pa(e,n,c,r),l=e.memoizedState),(a=bt||Wu(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qe(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=He(l):(l=je(n)?dn:ve.current,l=Hn(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Hu(e,o,r,l),bt=!1,p=e.memoizedState,o.state=p,ms(e,r,o,i);var y=e.memoizedState;a!==d||p!==y||be.current||bt?(typeof g=="function"&&(pa(e,n,g,r),y=e.memoizedState),(u=bt||Wu(e,n,u,r,p,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ya(t,e,n,r,s,i)}function ya(t,e,n,r,i,s){bh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$u(e,n,!1),_t(t,e,s);r=e.stateNode,eg.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kn(e,t.child,null,s),e.child=Kn(e,null,a,s)):we(t,e,a,s),e.memoizedState=r.state,i&&$u(e,n,!0),e.child}function jh(t){var e=t.stateNode;e.pendingContext?Iu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Iu(t,e.context,!1),kl(t,e.containerInfo)}function Xu(t,e,n,r,i){return qn(),ml(i),e.flags|=256,we(t,e,n,r),e.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function _a(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oh(t,e,n){var r=e.pendingProps,i=G.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),W(G,i&1),t===null)return ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bs(o,r,0,null),t=cn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_a(n),e.memoizedState=wa,t):bl(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tg(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wt(a,s):(s=cn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?_a(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=wa,r}return s=t.child,t=s.sibling,r=Wt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bl(t,e){return e=Bs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ri(t,e,n,r){return r!==null&&ml(r),Kn(e,t.child,null,n),t=bl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tg(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Eo(Error(E(422))),Ri(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bs({mode:"visible",children:r.children},i,0,null),s=cn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kn(e,t.child,null,o),e.child.memoizedState=_a(o),e.memoizedState=wa,s);if(!(e.mode&1))return Ri(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=Eo(s,r,void 0),Ri(t,e,o,r)}if(a=(o&t.childLanes)!==0,Re||a){if(r=ce,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wt(t,i),tt(r,t,i,-1))}return Il(),r=Eo(Error(E(421))),Ri(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pg.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Le=Ft(i.nextSibling),Ie=e,J=!0,Ze=null,t!==null&&(Be[Fe++]=pt,Be[Fe++]=mt,Be[Fe++]=hn,pt=t.id,mt=t.overflow,hn=e),e=bl(e,r.children),e.flags|=4096,e)}function Zu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fa(t.return,e,n)}function xo(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Nh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(we(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zu(t,n,e);else if(t.tag===19)Zu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(W(G,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xo(e,!0,n,null,s);break;case"together":xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ki(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Wt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ng(t,e,n){switch(e.tag){case 3:jh(e),qn();break;case 5:ih(e);break;case 1:je(e.type)&&cs(e);break;case 4:kl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;W(fs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(W(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?Oh(t,e,n):(W(G,G.current&1),t=_t(t,e,n),t!==null?t.sibling:null);W(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Nh(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,Rh(t,e,n)}return _t(t,e,n)}var Ah,ka,Lh,Ih;Ah=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};Lh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ln(lt.current);var s=null;switch(n){case"input":i=Vo(t,i),r=Vo(t,r),s=[];break;case"select":i=X({},i,{value:void 0}),r=X({},r,{value:void 0}),s=[];break;case"textarea":i=qo(t,i),r=qo(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ls)}Jo(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ur.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ih=function(t,e,n,r){n!==r&&(e.flags|=4)};function mr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rg(t,e,n){var r=e.pendingProps;switch(pl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return je(e.type)&&us(),me(e),null;case 3:return r=e.stateNode,Jn(),K(be),K(ve),El(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ti(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(ba(Ze),Ze=null))),ka(t,e),me(e),null;case 5:Sl(e);var i=ln(Gr.current);if(n=e.type,t!==null&&e.stateNode!=null)Lh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return me(e),null}if(t=ln(lt.current),Ti(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ot]=e,r[Jr]=s,t=(e.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(i=0;i<Sr.length;i++)q(Sr[i],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":lu(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":cu(r,s),q("invalid",r)}Jo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ci(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ci(r.textContent,a,t),i=["children",""+a]):Ur.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":vi(r),uu(r,s,!0);break;case"textarea":vi(r),du(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ls)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ud(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ot]=e,t[Jr]=r,Ah(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qo(n,r),n){case"dialog":q("cancel",t),q("close",t),i=r;break;case"iframe":case"object":case"embed":q("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)q(Sr[i],t);i=r;break;case"source":q("error",t),i=r;break;case"img":case"image":case"link":q("error",t),q("load",t),i=r;break;case"details":q("toggle",t),i=r;break;case"input":lu(t,r),i=Vo(t,r),q("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=X({},r,{value:void 0}),q("invalid",t);break;case"textarea":cu(t,r),i=qo(t,r),q("invalid",t);break;default:i=r}Jo(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hd(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cd(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Br(t,l):typeof l=="number"&&Br(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ur.hasOwnProperty(s)?l!=null&&s==="onScroll"&&q("scroll",t):l!=null&&Za(t,s,l,o))}switch(n){case"input":vi(t),uu(t,r,!1);break;case"textarea":vi(t),du(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Dn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ls)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Ih(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=ln(Gr.current),ln(lt.current),Ti(e)){if(r=e.stateNode,n=e.memoizedProps,r[ot]=e,(s=r.nodeValue!==n)&&(t=Ie,t!==null))switch(t.tag){case 3:Ci(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ci(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=e,e.stateNode=r}return me(e),null;case 13:if(K(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Le!==null&&e.mode&1&&!(e.flags&128))Zd(),qn(),e.flags|=98560,s=!1;else if(s=Ti(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[ot]=e}else qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),s=!1}else Ze!==null&&(ba(Ze),Ze=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ae===0&&(ae=3):Il())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Jn(),ka(t,e),t===null&&qr(e.stateNode.containerInfo),me(e),null;case 10:return yl(e.type._context),me(e),null;case 17:return je(e.type)&&us(),me(e),null;case 19:if(K(G),s=e.memoizedState,s===null)return me(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mr(s,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gs(t),o!==null){for(e.flags|=128,mr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return W(G,G.current&1|2),e.child}t=t.sibling}s.tail!==null&&ne()>Gn&&(e.flags|=128,r=!0,mr(s,!1),e.lanes=4194304)}else{if(!r)if(t=gs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!J)return me(e),null}else 2*ne()-s.renderingStartTime>Gn&&n!==1073741824&&(e.flags|=128,r=!0,mr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ne(),e.sibling=null,n=G.current,W(G,r?n&1|2:n&1),e):(me(e),null);case 22:case 23:return Ll(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function ig(t,e){switch(pl(e),e.tag){case 1:return je(e.type)&&us(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),K(be),K(ve),El(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sl(e),null;case 13:if(K(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(G),null;case 4:return Jn(),null;case 10:return yl(e.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var bi=!1,ge=!1,sg=typeof WeakSet=="function"?WeakSet:Set,T=null;function In(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function Sa(t,e,n){try{n()}catch(r){Z(t,e,r)}}var ec=!1;function og(t,e){if(sa=ss,t=Fd(),hl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:t,selectionRange:n},ss=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,f=e.stateNode,h=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qe(e.type,w),_);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(k){Z(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=ec,ec=!1,y}function Or(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sa(e,n,s)}i=i.next}while(i!==r)}}function Ds(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ea(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $h(t){var e=t.alternate;e!==null&&(t.alternate=null,$h(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[Jr],delete e[ua],delete e[Mm],delete e[Vm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dh(t){return t.tag===5||t.tag===3||t.tag===4}function tc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ls));else if(r!==4&&(t=t.child,t!==null))for(xa(t,e,n),t=t.sibling;t!==null;)xa(t,e,n),t=t.sibling}function Ca(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ca(t,e,n),t=t.sibling;t!==null;)Ca(t,e,n),t=t.sibling}var de=null,Ge=!1;function Ct(t,e,n){for(n=n.child;n!==null;)Uh(t,e,n),n=n.sibling}function Uh(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(bs,n)}catch{}switch(n.tag){case 5:ge||In(n,e);case 6:var r=de,i=Ge;de=null,Ct(t,e,n),de=r,Ge=i,de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Ge?(t=de,n=n.stateNode,t.nodeType===8?vo(t.parentNode,n):t.nodeType===1&&vo(t,n),Vr(t)):vo(de,n.stateNode));break;case 4:r=de,i=Ge,de=n.stateNode.containerInfo,Ge=!0,Ct(t,e,n),de=r,Ge=i;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sa(n,e,o),i=i.next}while(i!==r)}Ct(t,e,n);break;case 1:if(!ge&&(In(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Z(n,e,a)}Ct(t,e,n);break;case 21:Ct(t,e,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,Ct(t,e,n),ge=r):Ct(t,e,n);break;default:Ct(t,e,n)}}function nc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sg),e.forEach(function(r){var i=mg.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ge=!1;break e;case 3:de=a.stateNode.containerInfo,Ge=!0;break e;case 4:de=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(de===null)throw Error(E(160));Uh(s,o,i),de=null,Ge=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Z(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bh(e,t),e=e.sibling}function Bh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),rt(t),r&4){try{Or(3,t,t.return),Ds(3,t)}catch(w){Z(t,t.return,w)}try{Or(5,t,t.return)}catch(w){Z(t,t.return,w)}}break;case 1:Ke(e,t),rt(t),r&512&&n!==null&&In(n,n.return);break;case 5:if(Ke(e,t),rt(t),r&512&&n!==null&&In(n,n.return),t.flags&32){var i=t.stateNode;try{Br(i,"")}catch(w){Z(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ad(i,s),Qo(a,o);var u=Qo(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?hd(i,d):c==="dangerouslySetInnerHTML"?cd(i,d):c==="children"?Br(i,d):Za(i,c,d,u)}switch(a){case"input":Wo(i,s);break;case"textarea":ld(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Dn(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Dn(i,!!s.multiple,s.defaultValue,!0):Dn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jr]=s}catch(w){Z(t,t.return,w)}}break;case 6:if(Ke(e,t),rt(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Z(t,t.return,w)}}break;case 3:if(Ke(e,t),rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(w){Z(t,t.return,w)}break;case 4:Ke(e,t),rt(t);break;case 13:Ke(e,t),rt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nl=ne())),r&4&&nc(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(u=ge)||c,Ke(e,t),ge=u):Ke(e,t),rt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(d=T=c;T!==null;){switch(p=T,g=p.child,p.tag){case 0:case 11:case 14:case 15:Or(4,p,p.return);break;case 1:In(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Z(r,n,w)}}break;case 5:In(p,p.return);break;case 22:if(p.memoizedState!==null){ic(d);continue}}g!==null?(g.return=p,T=g):ic(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dd("display",o))}catch(w){Z(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Z(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ke(e,t),rt(t),r&4&&nc(t);break;case 21:break;default:Ke(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Br(i,""),r.flags&=-33);var s=tc(t);Ca(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tc(t);xa(t,a,o);break;default:throw Error(E(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ag(t,e,n){T=t,Fh(t)}function Fh(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bi;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ge;a=bi;var u=ge;if(bi=o,(ge=l)&&!u)for(T=i;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?sc(i):l!==null?(l.return=o,T=l):sc(i);for(;s!==null;)T=s,Fh(s),s=s.sibling;T=i,bi=a,ge=u}rc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,T=s):rc(t)}}function rc(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||Ds(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qe(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zu(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ge||e.flags&512&&Ea(e)}catch(p){Z(e,e.return,p)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function ic(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function sc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ds(4,e)}catch(l){Z(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Z(e,i,l)}}var s=e.return;try{Ea(e)}catch(l){Z(e,s,l)}break;case 5:var o=e.return;try{Ea(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var lg=Math.ceil,ws=kt.ReactCurrentDispatcher,jl=kt.ReactCurrentOwner,Ve=kt.ReactCurrentBatchConfig,B=0,ce=null,ie=null,he=0,Ae=0,$n=Gt(0),ae=0,ei=null,pn=0,Us=0,Ol=0,Nr=null,Te=null,Nl=0,Gn=1/0,dt=null,_s=!1,Ta=null,Mt=null,ji=!1,It=null,ks=0,Ar=0,Pa=null,Ji=-1,Qi=0;function ke(){return B&6?ne():Ji!==-1?Ji:Ji=ne()}function Vt(t){return t.mode&1?B&2&&he!==0?he&-he:Hm.transition!==null?(Qi===0&&(Qi=xd()),Qi):(t=z,t!==0||(t=window.event,t=t===void 0?16:Od(t.type)),t):1}function tt(t,e,n,r){if(50<Ar)throw Ar=0,Pa=null,Error(E(185));si(t,n,r),(!(B&2)||t!==ce)&&(t===ce&&(!(B&2)&&(Us|=n),ae===4&&Nt(t,he)),Oe(t,r),n===1&&B===0&&!(e.mode&1)&&(Gn=ne()+500,Ls&&Yt()))}function Oe(t,e){var n=t.callbackNode;Hp(t,e);var r=is(t,t===ce?he:0);if(r===0)n!==null&&pu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pu(n),e===1)t.tag===0?Wm(oc.bind(null,t)):Gd(oc.bind(null,t)),Fm(function(){!(B&6)&&Yt()}),n=null;else{switch(Cd(r)){case 1:n=il;break;case 4:n=Sd;break;case 16:n=rs;break;case 536870912:n=Ed;break;default:n=rs}n=Jh(n,zh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zh(t,e){if(Ji=-1,Qi=0,B&6)throw Error(E(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var r=is(t,t===ce?he:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ss(t,r);else{e=r;var i=B;B|=2;var s=Vh();(ce!==t||he!==e)&&(dt=null,Gn=ne()+500,un(t,e));do try{dg();break}catch(a){Mh(t,a)}while(1);vl(),ws.current=s,B=i,ie!==null?e=0:(ce=null,he=0,e=ae)}if(e!==0){if(e===2&&(i=ea(t),i!==0&&(r=i,e=Ra(t,i))),e===1)throw n=ei,un(t,0),Nt(t,r),Oe(t,ne()),n;if(e===6)Nt(t,r);else{if(i=t.current.alternate,!(r&30)&&!ug(i)&&(e=Ss(t,r),e===2&&(s=ea(t),s!==0&&(r=s,e=Ra(t,s))),e===1))throw n=ei,un(t,0),Nt(t,r),Oe(t,ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:nn(t,Te,dt);break;case 3:if(Nt(t,r),(r&130023424)===r&&(e=Nl+500-ne(),10<e)){if(is(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=la(nn.bind(null,t,Te,dt),e);break}nn(t,Te,dt);break;case 4:if(Nt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-et(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lg(r/1960))-r,10<r){t.timeoutHandle=la(nn.bind(null,t,Te,dt),r);break}nn(t,Te,dt);break;case 5:nn(t,Te,dt);break;default:throw Error(E(329))}}}return Oe(t,ne()),t.callbackNode===n?zh.bind(null,t):null}function Ra(t,e){var n=Nr;return t.current.memoizedState.isDehydrated&&(un(t,e).flags|=256),t=Ss(t,e),t!==2&&(e=Te,Te=n,e!==null&&ba(e)),t}function ba(t){Te===null?Te=t:Te.push.apply(Te,t)}function ug(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~Ol,e&=~Us,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-et(e),r=1<<n;t[n]=-1,e&=~r}}function oc(t){if(B&6)throw Error(E(327));Mn();var e=is(t,0);if(!(e&1))return Oe(t,ne()),null;var n=Ss(t,e);if(t.tag!==0&&n===2){var r=ea(t);r!==0&&(e=r,n=Ra(t,r))}if(n===1)throw n=ei,un(t,0),Nt(t,e),Oe(t,ne()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nn(t,Te,dt),Oe(t,ne()),null}function Al(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Gn=ne()+500,Ls&&Yt())}}function mn(t){It!==null&&It.tag===0&&!(B&6)&&Mn();var e=B;B|=1;var n=Ve.transition,r=z;try{if(Ve.transition=null,z=1,t)return t()}finally{z=r,Ve.transition=n,B=e,!(B&6)&&Yt()}}function Ll(){Ae=$n.current,K($n)}function un(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bm(n)),ie!==null)for(n=ie.return;n!==null;){var r=n;switch(pl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&us();break;case 3:Jn(),K(be),K(ve),El();break;case 5:Sl(r);break;case 4:Jn();break;case 13:K(G);break;case 19:K(G);break;case 10:yl(r.type._context);break;case 22:case 23:Ll()}n=n.return}if(ce=t,ie=t=Wt(t.current,null),he=Ae=e,ae=0,ei=null,Ol=Us=pn=0,Te=Nr=null,an!==null){for(e=0;e<an.length;e++)if(n=an[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}an=null}return t}function Mh(t,e){do{var n=ie;try{if(vl(),Hi.current=ys,vs){for(var r=Y.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vs=!1}if(fn=0,ue=oe=Y=null,jr=!1,Yr=0,jl.current=null,n===null||n.return===null){ae=1,ei=e,ie=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Ku(o);if(g!==null){g.flags&=-257,Ju(g,o,a,s,e),g.mode&1&&qu(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){qu(s,u,e),Il();break e}l=Error(E(426))}}else if(J&&a.mode&1){var _=Ku(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ju(_,o,a,s,e),ml(Qn(l,a));break e}}s=l=Qn(l,a),ae!==4&&(ae=2),Nr===null?Nr=[s]:Nr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=Ch(s,l,e);Fu(s,f);break e;case 1:a=l;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Mt===null||!Mt.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Th(s,a,e);Fu(s,k);break e}}s=s.return}while(s!==null)}Hh(n)}catch(x){e=x,ie===n&&n!==null&&(ie=n=n.return);continue}break}while(1)}function Vh(){var t=ws.current;return ws.current=ys,t===null?ys:t}function Il(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(pn&268435455)&&!(Us&268435455)||Nt(ce,he)}function Ss(t,e){var n=B;B|=2;var r=Vh();(ce!==t||he!==e)&&(dt=null,un(t,e));do try{cg();break}catch(i){Mh(t,i)}while(1);if(vl(),B=n,ws.current=r,ie!==null)throw Error(E(261));return ce=null,he=0,ae}function cg(){for(;ie!==null;)Wh(ie)}function dg(){for(;ie!==null&&!$p();)Wh(ie)}function Wh(t){var e=Kh(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?Hh(t):ie=e,jl.current=null}function Hh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ig(n,e),n!==null){n.flags&=32767,ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,ie=null;return}}else if(n=rg(n,e,Ae),n!==null){ie=n;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ae===0&&(ae=5)}function nn(t,e,n){var r=z,i=Ve.transition;try{Ve.transition=null,z=1,hg(t,e,n,r)}finally{Ve.transition=i,z=r}return null}function hg(t,e,n,r){do Mn();while(It!==null);if(B&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qp(t,s),t===ce&&(ie=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ji||(ji=!0,Jh(rs,function(){return Mn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ve.transition,Ve.transition=null;var o=z;z=1;var a=B;B|=4,jl.current=null,og(t,n),Bh(n,t),Nm(oa),ss=!!sa,oa=sa=null,t.current=n,ag(n),Dp(),B=a,z=o,Ve.transition=s}else t.current=n;if(ji&&(ji=!1,It=t,ks=i),s=t.pendingLanes,s===0&&(Mt=null),Fp(n.stateNode),Oe(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_s)throw _s=!1,t=Ta,Ta=null,t;return ks&1&&t.tag!==0&&Mn(),s=t.pendingLanes,s&1?t===Pa?Ar++:(Ar=0,Pa=t):Ar=0,Yt(),null}function Mn(){if(It!==null){var t=Cd(ks),e=Ve.transition,n=z;try{if(Ve.transition=null,z=16>t?16:t,It===null)var r=!1;else{if(t=It,It=null,ks=0,B&6)throw Error(E(331));var i=B;for(B|=4,T=t.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:Or(8,c,s)}var d=c.child;if(d!==null)d.return=c,T=d;else for(;T!==null;){c=T;var p=c.sibling,g=c.return;if($h(c),c===u){T=null;break}if(p!==null){p.return=g,T=p;break}T=g}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Or(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,T=f;break e}T=s.return}}var h=t.current;for(T=h;T!==null;){o=T;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,T=v;else e:for(o=h;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ds(9,a)}}catch(x){Z(a,a.return,x)}if(a===o){T=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,T=k;break e}T=a.return}}if(B=i,Yt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(bs,t)}catch{}r=!0}return r}finally{z=n,Ve.transition=e}}return!1}function ac(t,e,n){e=Qn(n,e),e=Ch(t,e,1),t=zt(t,e,1),e=ke(),t!==null&&(si(t,1,e),Oe(t,e))}function Z(t,e,n){if(t.tag===3)ac(t,t,n);else for(;e!==null;){if(e.tag===3){ac(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){t=Qn(n,t),t=Th(e,t,1),e=zt(e,t,1),t=ke(),e!==null&&(si(e,1,t),Oe(e,t));break}}e=e.return}}function fg(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(he&n)===n&&(ae===4||ae===3&&(he&130023424)===he&&500>ne()-Nl?un(t,0):Ol|=n),Oe(t,e)}function qh(t,e){e===0&&(t.mode&1?(e=_i,_i<<=1,!(_i&130023424)&&(_i=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(si(t,e,n),Oe(t,n))}function pg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qh(t,n)}function mg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),qh(t,n)}var Kh;Kh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,ng(t,e,n);Re=!!(t.flags&131072)}else Re=!1,J&&e.flags&1048576&&Yd(e,hs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ki(t,e),t=e.pendingProps;var i=Hn(e,ve.current);zn(e,n),i=Cl(null,e,r,t,i,n);var s=Tl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(s=!0,cs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_l(e),i.updater=$s,e.stateNode=i,i._reactInternals=e,ma(e,r,t,n),e=ya(null,e,r,!0,s,n)):(e.tag=0,J&&s&&fl(e),we(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ki(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vg(r),t=Qe(r,t),i){case 0:e=va(null,e,r,t,n);break e;case 1:e=Yu(null,e,r,t,n);break e;case 11:e=Qu(null,e,r,t,n);break e;case 14:e=Gu(null,e,r,Qe(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qe(r,i),va(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qe(r,i),Yu(t,e,r,i,n);case 3:e:{if(jh(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rh(t,e),ms(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qn(Error(E(423)),e),e=Xu(t,e,r,n,i);break e}else if(r!==i){i=Qn(Error(E(424)),e),e=Xu(t,e,r,n,i);break e}else for(Le=Ft(e.stateNode.containerInfo.firstChild),Ie=e,J=!0,Ze=null,n=th(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===i){e=_t(t,e,n);break e}we(t,e,r,n)}e=e.child}return e;case 5:return ih(e),t===null&&ha(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,aa(r,i)?o=null:s!==null&&aa(r,s)&&(e.flags|=32),bh(t,e),we(t,e,o,n),e.child;case 6:return t===null&&ha(e),null;case 13:return Oh(t,e,n);case 4:return kl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kn(e,null,r,n):we(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qe(r,i),Qu(t,e,r,i,n);case 7:return we(t,e,e.pendingProps,n),e.child;case 8:return we(t,e,e.pendingProps.children,n),e.child;case 12:return we(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,W(fs,r._currentValue),r._currentValue=o,s!==null)if(nt(s.value,o)){if(s.children===i.children&&!be.current){e=_t(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fa(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}we(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zn(e,n),i=He(i),r=r(i),e.flags|=1,we(t,e,r,n),e.child;case 14:return r=e.type,i=Qe(r,e.pendingProps),i=Qe(r.type,i),Gu(t,e,r,i,n);case 15:return Ph(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qe(r,i),Ki(t,e),e.tag=1,je(r)?(t=!0,cs(e)):t=!1,zn(e,n),xh(e,r,i),ma(e,r,i,n),ya(null,e,r,!0,t,n);case 19:return Nh(t,e,n);case 22:return Rh(t,e,n)}throw Error(E(156,e.tag))};function Jh(t,e){return kd(t,e)}function gg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,n,r){return new gg(t,e,n,r)}function $l(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vg(t){if(typeof t=="function")return $l(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tl)return 11;if(t===nl)return 14}return 2}function Wt(t,e){var n=t.alternate;return n===null?(n=Me(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gi(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$l(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Tn:return cn(n.children,i,s,e);case el:o=8,i|=8;break;case Bo:return t=Me(12,n,e,i|2),t.elementType=Bo,t.lanes=s,t;case Fo:return t=Me(13,n,e,i),t.elementType=Fo,t.lanes=s,t;case zo:return t=Me(19,n,e,i),t.elementType=zo,t.lanes=s,t;case id:return Bs(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nd:o=10;break e;case rd:o=9;break e;case tl:o=11;break e;case nl:o=14;break e;case Rt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Me(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cn(t,e,n,r){return t=Me(7,t,r,e),t.lanes=n,t}function Bs(t,e,n,r){return t=Me(22,t,r,e),t.elementType=id,t.lanes=n,t.stateNode={isHidden:!1},t}function Co(t,e,n){return t=Me(6,t,null,e),t.lanes=n,t}function To(t,e,n){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yg(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dl(t,e,n,r,i,s,o,a,l){return t=new yg(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Me(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(s),t}function wg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qh(t){if(!t)return Jt;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(je(n))return Qd(t,n,e)}return e}function Gh(t,e,n,r,i,s,o,a,l){return t=Dl(n,r,!0,t,i,s,o,a,l),t.context=Qh(null),n=t.current,r=ke(),i=Vt(n),s=gt(r,i),s.callback=e??null,zt(n,s,i),t.current.lanes=i,si(t,i,r),Oe(t,r),t}function Fs(t,e,n,r){var i=e.current,s=ke(),o=Vt(i);return n=Qh(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zt(i,e,o),t!==null&&(tt(t,i,o,s),Wi(t,i,o)),o}function Es(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ul(t,e){lc(t,e),(t=t.alternate)&&lc(t,e)}function _g(){return null}var Yh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bl(t){this._internalRoot=t}zs.prototype.render=Bl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Fs(t,e,null,null)};zs.prototype.unmount=Bl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mn(function(){Fs(null,t,null,null)}),e[yt]=null}};function zs(t){this._internalRoot=t}zs.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&jd(t)}};function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ms(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uc(){}function kg(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Es(o);s.call(u)}}var o=Gh(e,r,t,0,null,!1,!1,"",uc);return t._reactRootContainer=o,t[yt]=o.current,qr(t.nodeType===8?t.parentNode:t),mn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Es(l);a.call(u)}}var l=Dl(t,0,!1,null,null,!1,!1,"",uc);return t._reactRootContainer=l,t[yt]=l.current,qr(t.nodeType===8?t.parentNode:t),mn(function(){Fs(e,l,n,r)}),l}function Vs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Es(o);a.call(l)}}Fs(e,o,t,i)}else o=kg(n,e,t,i,r);return Es(o)}Td=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kr(e.pendingLanes);n!==0&&(sl(e,n|1),Oe(e,ne()),!(B&6)&&(Gn=ne()+500,Yt()))}break;case 13:mn(function(){var r=wt(t,1);if(r!==null){var i=ke();tt(r,t,1,i)}}),Ul(t,1)}};ol=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();tt(e,t,134217728,n)}Ul(t,134217728)}};Pd=function(t){if(t.tag===13){var e=Vt(t),n=wt(t,e);if(n!==null){var r=ke();tt(n,t,e,r)}Ul(t,e)}};Rd=function(){return z};bd=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};Yo=function(t,e,n){switch(e){case"input":if(Wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=As(r);if(!i)throw Error(E(90));od(r),Wo(r,i)}}}break;case"textarea":ld(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};md=Al;gd=mn;var Sg={usingClientEntryPoint:!1,Events:[ai,jn,As,fd,pd,Al]},gr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Eg={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wd(t),t===null?null:t.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||_g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{bs=Oi.inject(Eg),at=Oi}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;De.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fl(e))throw Error(E(200));return wg(t,e,null,n)};De.createRoot=function(t,e){if(!Fl(t))throw Error(E(299));var n=!1,r="",i=Yh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dl(t,1,!1,null,null,n,!1,r,i),t[yt]=e.current,qr(t.nodeType===8?t.parentNode:t),new Bl(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=wd(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return mn(t)};De.hydrate=function(t,e,n){if(!Ms(e))throw Error(E(200));return Vs(null,t,e,!0,n)};De.hydrateRoot=function(t,e,n){if(!Fl(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Yh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Gh(e,null,t,1,n??null,i,!1,s,o),t[yt]=e.current,qr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zs(e)};De.render=function(t,e,n){if(!Ms(e))throw Error(E(200));return Vs(null,t,e,!1,n)};De.unmountComponentAtNode=function(t){if(!Ms(t))throw Error(E(40));return t._reactRootContainer?(mn(function(){Vs(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};De.unstable_batchedUpdates=Al;De.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ms(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Vs(t,e,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function Xh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xh)}catch(t){console.error(t)}}Xh(),Xc.exports=De;var xg=Xc.exports,cc=xg;Do.createRoot=cc.createRoot,Do.hydrateRoot=cc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ti.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const dc="popstate";function Cg(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ja("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xs(i)}return Pg(e,n,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tg(){return Math.random().toString(36).substr(2,8)}function hc(t,e){return{usr:t.state,key:t.key,idx:e}}function ja(t,e,n,r){return n===void 0&&(n=null),ti({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nr(e):e,{state:n,key:e&&e.key||r||Tg()})}function xs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Pg(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$t.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ti({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=$t.Pop;let _=c(),f=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:f})}function p(_,f){a=$t.Push;let h=ja(w.location,_,f);n&&n(h,_),u=c()+1;let v=hc(h,u),k=w.createHref(h);try{o.pushState(v,"",k)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function g(_,f){a=$t.Replace;let h=ja(w.location,_,f);n&&n(h,_),u=c();let v=hc(h,u),k=w.createHref(h);o.replaceState(v,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function y(_){let f=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof _=="string"?_:xs(_);return h=h.replace(/ $/,"%20"),re(f,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,f)}let w={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dc,d),l=_,()=>{i.removeEventListener(dc,d),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let f=y(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:g,go(_){return o.go(_)}};return w}var fc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fc||(fc={}));function Rg(t,e,n){return n===void 0&&(n="/"),bg(t,e,n,!1)}function bg(t,e,n,r){let i=typeof e=="string"?nr(e):e,s=zl(i.pathname||"/",n);if(s==null)return null;let o=ef(t);jg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=zg(s);a=Bg(o[l],u,r)}return a}function ef(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ht([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ef(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Dg(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tf(s.path))i(s,o,l)}),e}function tf(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tf(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jg(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ug(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Og=/^:[\w-]+$/,Ng=3,Ag=2,Lg=1,Ig=10,$g=-2,pc=t=>t==="*";function Dg(t,e){let n=t.split("/"),r=n.length;return n.some(pc)&&(r+=$g),e&&(r+=Ag),n.filter(i=>!pc(i)).reduce((i,s)=>i+(Og.test(s)?Ng:s===""?Lg:Ig),r)}function Ug(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bg(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=mc({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=mc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ht([s,d.pathname]),pathnameBase:Hg(Ht([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Ht([s,d.pathnameBase]))}return o}function mc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fg(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:g}=c;if(p==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Fg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Mg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nr(t):t;return{pathname:n?n.startsWith("/")?n:Vg(n,e):e,search:qg(r),hash:Kg(i)}}function Vg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Po(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ml(t,e){let n=Wg(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vl(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nr(t):(i=ti({},t),re(!i.pathname||!i.pathname.includes("?"),Po("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),Po("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),Po("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=Mg(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ht=t=>t.join("/").replace(/\/\/+/g,"/"),Hg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Jg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nf=["post","put","patch","delete"];new Set(nf);const Qg=["get",...nf];new Set(Qg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ni.apply(this,arguments)}const Wl=S.createContext(null),Gg=S.createContext(null),Xt=S.createContext(null),Ws=S.createContext(null),St=S.createContext({outlet:null,matches:[],isDataRoute:!1}),rf=S.createContext(null);function Yg(t,e){let{relative:n}=e===void 0?{}:e;rr()||re(!1);let{basename:r,navigator:i}=S.useContext(Xt),{hash:s,pathname:o,search:a}=of(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ht([r,o])),i.createHref({pathname:l,search:a,hash:s})}function rr(){return S.useContext(Ws)!=null}function ui(){return rr()||re(!1),S.useContext(Ws).location}function sf(t){S.useContext(Xt).static||S.useLayoutEffect(t)}function Et(){let{isDataRoute:t}=S.useContext(St);return t?dv():Xg()}function Xg(){rr()||re(!1);let t=S.useContext(Wl),{basename:e,future:n,navigator:r}=S.useContext(Xt),{matches:i}=S.useContext(St),{pathname:s}=ui(),o=JSON.stringify(Ml(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return sf(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Vl(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ht([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Zg(){let{matches:t}=S.useContext(St),e=t[t.length-1];return e?e.params:{}}function of(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Xt),{matches:i}=S.useContext(St),{pathname:s}=ui(),o=JSON.stringify(Ml(i,r.v7_relativeSplatPath));return S.useMemo(()=>Vl(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ev(t,e){return tv(t,e)}function tv(t,e,n,r){rr()||re(!1);let{navigator:i,static:s}=S.useContext(Xt),{matches:o}=S.useContext(St),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=ui(),d;if(e){var p;let f=typeof e=="string"?nr(e):e;u==="/"||(p=f.pathname)!=null&&p.startsWith(u)||re(!1),d=f}else d=c;let g=d.pathname||"/",y=g;if(u!=="/"){let f=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(f.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:Rg(t,{pathname:y}),_=ov(w&&w.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:Ht([u,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:Ht([u,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,n,r);return e&&_?S.createElement(Ws.Provider,{value:{location:ni({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$t.Pop}},_):_}function nv(){let t=cv(),e=Jg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,s)}const rv=S.createElement(nv,null);class iv extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(St.Provider,{value:this.props.routeContext},S.createElement(rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sv(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(Wl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(St.Provider,{value:e},r)}function ov(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||re(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:g}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,p)=>{let g,y=!1,w=null,_=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||rv,l&&(u<0&&p===0?(hv("route-fallback",!1),y=!0,_=null):u===p&&(y=!0,_=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,p+1)),h=()=>{let v;return g?v=w:y?v=_:d.route.Component?v=S.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,S.createElement(sv,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?S.createElement(iv,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var af=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(af||{}),Cs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cs||{});function av(t){let e=S.useContext(Wl);return e||re(!1),e}function lv(t){let e=S.useContext(Gg);return e||re(!1),e}function uv(t){let e=S.useContext(St);return e||re(!1),e}function lf(t){let e=uv(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function cv(){var t;let e=S.useContext(rf),n=lv(Cs.UseRouteError),r=lf(Cs.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dv(){let{router:t}=av(af.UseNavigateStable),e=lf(Cs.UseNavigateStable),n=S.useRef(!1);return sf(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ni({fromRouteId:e},s)))},[t,e])}const gc={};function hv(t,e,n){!e&&!gc[t]&&(gc[t]=!0)}function fv(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function uf(t){let{to:e,replace:n,state:r,relative:i}=t;rr()||re(!1);let{future:s,static:o}=S.useContext(Xt),{matches:a}=S.useContext(St),{pathname:l}=ui(),u=Et(),c=Vl(e,Ml(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Je(t){re(!1)}function pv(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$t.Pop,navigator:s,static:o=!1,future:a}=t;rr()&&re(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:o,future:ni({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=nr(r));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:y="default"}=r,w=S.useMemo(()=>{let _=zl(c,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:g,key:y},navigationType:i}},[l,c,d,p,g,y,i]);return w==null?null:S.createElement(Xt.Provider,{value:u},S.createElement(Ws.Provider,{children:n,value:w}))}function mv(t){let{children:e,location:n}=t;return ev(Oa(e),n)}new Promise(()=>{});function Oa(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,Oa(r.props.children,s));return}r.type!==Je&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Oa(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Na.apply(this,arguments)}function gv(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yv(t,e){return t.button===0&&(!e||e==="_self")&&!vv(t)}const wv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_v="6";try{window.__reactRouterVersion=_v}catch{}const kv="startTransition",vc=fp[kv];function Sv(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=Cg({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(d=>{u&&vc?vc(()=>l(d)):l(d)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>fv(r),[r]),S.createElement(pv,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,p=gv(e,wv),{basename:g}=S.useContext(Xt),y,w=!1;if(typeof u=="string"&&xv.test(u)&&(y=u,Ev))try{let v=new URL(window.location.href),k=u.startsWith("//")?new URL(v.protocol+u):new URL(u),x=zl(k.pathname,g);k.origin===v.origin&&x!=null?u=x+k.search+k.hash:w=!0}catch{}let _=Yg(u,{relative:i}),f=Cv(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function h(v){r&&r(v),v.defaultPrevented||f(v)}return S.createElement("a",Na({},p,{href:y||_,onClick:w||s?r:h,ref:n,target:l}))});var yc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yc||(yc={}));var wc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wc||(wc={}));function Cv(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Et(),u=ui(),c=of(t,{relative:o});return S.useCallback(d=>{if(yv(d,n)){d.preventDefault();let p=r!==void 0?r:xs(u)===xs(c);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const Tv="modulepreload",Pv=function(t){return"/"+t},_c={},Yn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Pv(s),s in _c)return;_c[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Tv,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Rv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yn(()=>Promise.resolve().then(()=>ir),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Hl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class bv extends Hl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jv extends Hl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ov extends Hl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Aa||(Aa={}));var Nv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Av{constructor(e,{headers:n={},customFetch:r,region:i=Aa.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Rv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Nv(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(y=>{throw new bv(y)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new jv(c);if(!c.ok)throw new Ov(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var Pe={},ql={},Hs={},ci={},qs={},Ks={},Lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xn=Lv();const Iv=Xn.fetch,cf=Xn.fetch.bind(Xn),df=Xn.Headers,$v=Xn.Request,Dv=Xn.Response,ir=Object.freeze(Object.defineProperty({__proto__:null,Headers:df,Request:$v,Response:Dv,default:cf,fetch:Iv},Symbol.toStringTag,{value:"Module"})),Uv=Yf(ir);var Js={};Object.defineProperty(Js,"__esModule",{value:!0});let Bv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Js.default=Bv;var hf=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const Fv=hf(Uv),zv=hf(Js);let Mv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Fv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let u=null,c=null,d=null,p=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const f=await s.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=f:c=JSON.parse(f))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(d=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await s.text();try{u=JSON.parse(w),Array.isArray(u)&&s.status===404&&(c=[],u=null,p=200,g="OK")}catch{s.status===404&&w===""?(p=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new zv.default(u)}return{error:u,data:c,count:d,status:p,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ks.default=Mv;var Vv=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});const Wv=Vv(Ks);let Hv=class extends Wv.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qs.default=Hv;var qv=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ci,"__esModule",{value:!0});const Kv=qv(qs);let Jv=class extends Kv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ci.default=Jv;var Qv=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});const vr=Qv(ci);let Gv=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hs.default=Gv;var Qs={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.version=void 0;Gs.version="0.0.0-automated";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.DEFAULT_HEADERS=void 0;const Yv=Gs;Qs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yv.version}`};var ff=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ql,"__esModule",{value:!0});const Xv=ff(Hs),Zv=ff(ci),ey=Qs;let ty=class pf{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ey.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Xv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new pf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Zv.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ql.default=ty;var sr=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const mf=sr(ql);Pe.PostgrestClient=mf.default;const gf=sr(Hs);Pe.PostgrestQueryBuilder=gf.default;const vf=sr(ci);Pe.PostgrestFilterBuilder=vf.default;const yf=sr(qs);Pe.PostgrestTransformBuilder=yf.default;const wf=sr(Ks);Pe.PostgrestBuilder=wf.default;const _f=sr(Js);Pe.PostgrestError=_f.default;var ny=Pe.default={PostgrestClient:mf.default,PostgrestQueryBuilder:gf.default,PostgrestFilterBuilder:vf.default,PostgrestTransformBuilder:yf.default,PostgrestBuilder:wf.default,PostgrestError:_f.default};const{PostgrestClient:ry,PostgrestQueryBuilder:e_,PostgrestFilterBuilder:t_,PostgrestTransformBuilder:n_,PostgrestBuilder:r_,PostgrestError:i_}=ny,iy="2.11.2",sy={"X-Client-Info":`realtime-js/${iy}`},oy="1.0.0",kf=1e4,ay=1e3;var Vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vn||(Vn={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var La;(function(t){t.websocket="websocket"})(La||(La={}));var sn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sn||(sn={}));class ly{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Sf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const kc=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=uy(o,t,e,i),s),{})},uy=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Ef(s,o):Ia(o)},Ef=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return fy(e,n)}switch(t){case V.bool:return cy(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return dy(e);case V.json:case V.jsonb:return hy(e);case V.timestamp:return py(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Ia(e);default:return Ia(e)}},Ia=t=>t,cy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fy=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Ef(e,a))}return t},py=t=>typeof t=="string"?t.replace(" ","T"):t,xf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ro{constructor(e,n,r={},i=kf){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sc||(Sc={}));class Lr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Lr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const p=c.map(_=>_.presence_ref),g=d.map(_=>_.presence_ref),y=c.filter(_=>g.indexOf(_.presence_ref)<0),w=d.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ec;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ec||(Ec={}));var xc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xc||(xc={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class Kl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ro(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new Sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Lr(this),this.broadcastEndpointURL=xf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(ht.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ht.CLOSED));const l={},u={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(ht.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,y=[];for(let w=0;w<g;w++){const _=p[w],{filter:{event:f,schema:h,table:v,filter:k}}=_,x=c&&c[w];if(x&&x.event===f&&x.schema===h&&x.table===v&&x.filter===k)y.push(Object.assign(Object.assign({},_),{id:x.id}));else{this.unsubscribe(),e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ht.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Ro(this,Ye.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ro(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ye;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,w,_;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var y,w,_,f,h,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,x=(y=g.filter)===null||y===void 0?void 0:y.event;return k&&((w=n.ids)===null||w===void 0?void 0:w.includes(k))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(h=(f=g==null?void 0:g.filter)===null||f===void 0?void 0:f.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return k==="*"||k===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:_,commit_timestamp:f,type:h,errors:v}=y;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:f,eventType:h,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Kl.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=kc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=kc(e.columns,e.old_record)),n}}const my=()=>{},gy=typeof WebSocket<"u",vy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yy{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sy,this.params={},this.timeout=kf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=my,this.conn=null,this.sendBuffer=[],this.serializer=new ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>Yn(()=>Promise.resolve().then(()=>ir),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${La.websocket}`,this.httpEndpoint=xf(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Yn(()=>import("./browser-bae44c95.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oy}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return sn.Connecting;case Vn.open:return sn.Open;case Vn.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(e,n={config:{}}){const r=new Kl(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Ye.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ay,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([vy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class wy{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Jl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _y extends Jl{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $a extends Jl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ky=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Cf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yn(()=>Promise.resolve().then(()=>ir),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Sy=()=>ky(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>ir),void 0)).Response:Response}),Da=t=>{if(Array.isArray(t))return t.map(n=>Da(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Da(r)}),e};var yn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ey=(t,e,n)=>yn(void 0,void 0,void 0,function*(){const r=yield Sy();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new _y(bo(i),t.status||500))}).catch(i=>{e(new $a(bo(i),i))}):e(new $a(bo(t),t))}),xy=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function di(t,e,n,r,i,s){return yn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,xy(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ey(l,a,r))})})}function Ts(t,e,n,r){return yn(this,void 0,void 0,function*(){return di(t,"GET",e,n,r)})}function jt(t,e,n,r,i){return yn(this,void 0,void 0,function*(){return di(t,"POST",e,r,i,n)})}function Cy(t,e,n,r,i){return yn(this,void 0,void 0,function*(){return di(t,"PUT",e,r,i,n)})}function Ty(t,e,n,r){return yn(this,void 0,void 0,function*(){return di(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Tf(t,e,n,r,i){return yn(this,void 0,void 0,function*(){return di(t,"DELETE",e,r,i,n)})}var xe=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Py={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ry{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Cf(i)}uploadOrUpdate(e,n,r,i){return xe(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Cc),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(le(s))return{data:null,error:s};throw s}})}upload(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return xe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Cc.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(le(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield jt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Jl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}update(e,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}copy(e,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield jt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return xe(this,void 0,void 0,function*(){try{const i=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}download(e,n){return xe(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ts(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(le(a))return{data:null,error:a};throw a}})}info(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ts(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Da(r),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}exists(e){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ty(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(le(r)&&r instanceof $a){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}list(e,n,r){return xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Py),n),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const by="2.7.1",jy={"X-Client-Info":`storage-js/${by}`};var kn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Oy{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Cf(r)}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return kn(this,void 0,void 0,function*(){try{return{data:yield Cy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kn(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}}class Ny extends Oy{constructor(e,n={},r){super(e,n,r)}from(e){return new Ry(this.url,this.headers,e,this.fetch)}}const Ay="2.49.4";let Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";const Ly={"X-Client-Info":`supabase-js-${Er}/${Ay}`},Iy={headers:Ly},$y={schema:"public"},Dy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uy={};var By=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Fy=t=>{let e;return t?e=t:typeof fetch>"u"?e=cf:e=fetch,(...n)=>e(...n)},zy=()=>typeof Headers>"u"?df:Headers,My=(t,e,n)=>{const r=Fy(n),i=zy();return(s,o)=>By(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};var Vy=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Wy(t){return t.replace(/\/$/,"")}function Hy(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>Vy(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Pf="2.69.1",xn=30*1e3,Ua=3,jo=Ua*xn,qy="http://localhost:9999",Ky="supabase.auth.token",Jy={"X-Client-Info":`gotrue-js/${Pf}`},Ba="X-Supabase-Api-Version",Rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gy=6e5;class Ql extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yy extends Ql{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Xy(t){return A(t)&&t.name==="AuthApiError"}class bf extends Ql{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zt extends Ql{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Tt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zy(t){return A(t)&&t.name==="AuthSessionMissingError"}class Oo extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ni extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ai extends Zt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tc extends Zt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends Zt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function No(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Pc extends Zt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ir extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bc=` 	
\r=`.split(""),t0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bc.length;e+=1)t[bc[e].charCodeAt(0)]=-2;for(let e=0;e<Rc.length;e+=1)t[Rc[e].charCodeAt(0)]=e;return t})();function jf(t,e,n){const r=t0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{i0(o,r,n)};for(let o=0;o<t.length;o+=1)jf(t.charCodeAt(o),i,s);return e.join("")}function n0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function r0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}n0(r,e)}}function i0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function s0(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jf(t.charCodeAt(i),n,r);return new Uint8Array(e)}function o0(t){const e=[];return r0(t,n=>e.push(n)),new Uint8Array(e)}function a0(t){return Math.round(Date.now()/1e3)+t}function l0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},$r=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function u0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Of=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yn(()=>Promise.resolve().then(()=>ir),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},c0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Li=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ii=async(t,e)=>{await t.removeItem(e)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ys.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new Ir("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Qy.test(e[r]))throw new Ir("JWT not in base64url format");return{header:JSON.parse(jc(e[0])),payload:JSON.parse(jc(e[1])),signature:s0(e[2]),raw:{header:e[0],payload:e[1]}}}async function d0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h0(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function f0(t){return("0"+t.toString(16)).substr(-2)}function p0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,f0).join("")}async function m0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function g0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await m0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sn(t,e,n=!1){const r=p0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Nf(t,`${e}-code-verifier`,i);const s=await g0(r);return[s,r===s?"plain":"s256"]}const v0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y0(t){const e=t.headers.get(Ba);if(!e||!e.match(v0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var k0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S0=[502,503,504];async function Oc(t){var e;if(!c0(t))throw new Fa(rn(t),0);if(S0.includes(t.status))throw new Fa(rn(t),t.status);let n;try{n=await t.json()}catch(s){throw new bf(rn(s),s)}let r;const i=y0(t);if(i&&i.getTime()>=Rf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Pc(rn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Tt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Pc(rn(n),t.status,n.weak_password.reasons);throw new Yy(rn(n),t.status||500,r)}const E0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function D(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ba]||(s[Ba]=Rf["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await x0(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function x0(t,e,n,r,i,s){const o=E0(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Fa(rn(l),0)}if(a.ok||await Oc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Oc(l)}}function Pt(t){var e;let n=null;R0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=a0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Nc(t){const e=Pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function C0(t){return{data:t,error:null}}function T0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=k0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function P0(t){return t}function R0(t){return t.access_token&&t.refresh_token&&t.expires_in}var b0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class j0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Of(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:At})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=b0(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:T0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:P0});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:At})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:At})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}const O0={getItem:t=>$r()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{$r()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{$r()&&globalThis.localStorage.removeItem(t)}};function Ac(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function N0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&$r()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Af extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class A0 extends Af{}async function L0(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new A0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}N0();const I0={url:qy,storageKey:Ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lc(t,e,n){return await n()}class ri{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ri.nextInstanceID,ri.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},I0),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new j0({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Of(i.fetch),this.lock=i.lock||Lc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:it()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=L0:this.lock=Lc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$r()?this.storage=O0:(this.memoryStorage={},this.storage=Ac(this.memoryStorage)):(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=u0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),it()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),e0(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new bf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pt}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Sn(this.storage,this.storageKey)),s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:Pt})}else if("phone"in e){const{phone:c,password:d,options:p}=e;s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Pt})}else throw new Ni("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Nc})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Nc})}else throw new Ni("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Pt});if(await Ii(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(A(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Sn(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ni("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Sn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:C0})}catch(s){if(A(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Tt;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ni("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:At})})}catch(n){if(A(n))return Zy(n)&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Tt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sn(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:At});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Ao(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!it())throw new Ai("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ai(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ai("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tc("No code detected.");const{data:h,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ai("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=p-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const f={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Xy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ii(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=l0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Sn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(A(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:p}=s;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return it()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await h0(async i=>(i>0&&await d0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&No(s)&&Date.now()+o-r<xn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),it()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Li(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),No(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ys;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Tt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),A(s)){const o={session:null,error:s};return No(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nf(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ii(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xn}ms, refresh threshold is ${Ua} ticks`),i<=Ua&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Af)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Sn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ao(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Gy>Date.now()))return r;const{data:i,error:s}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Ir("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Ir("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Ao(r);if(w0(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const u=_0(i.alg),c=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,o0(`${a}.${l}`)))throw new Ir("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}ri.nextInstanceID=0;const $0=ri;class D0 extends $0{constructor(e){super(e)}}var U0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class B0{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Wy(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$y,realtime:Uy,auth:Object.assign(Object.assign({},Dy),{storageKey:l}),global:Iy},c=Hy(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=My(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new ry(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Av(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ny(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return U0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D0({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new yy(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lf=(t,e,n)=>new B0(t,e,n),F0="https://qyxqfaykmmvaycxpincf.supabase.co",z0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5eHFmYXlrbW12YXljeHBpbmNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM4OTM0ODcsImV4cCI6MjA0OTQ2OTQ4N30.hsRBp8xSijqTbWEjiWmDOsLwj78_Z7ygu--Kl3AFaeg",_e=Lf(F0,z0);(async()=>{try{const{data:t,error:e}=await _e.from("users").select("*").limit(1);e?console.error("Supabase connection failed:",e.message):console.log("Supabase connected successfully!")}catch(t){console.error("Error testing Supabase connection:",t)}})();const Gl=S.createContext(),M0=({children:t})=>{const[e,n]=S.useState({user:null,profile:null,isAuthenticated:!1,loading:!0}),r=S.useRef(!0),i=g=>{r.current&&n(g)},s=async g=>{if(!g)return null;try{const{data:y,error:w}=await _e.from("users").select("*").eq("id",g).single();return w?(w.code!=="PGRST116"&&console.error("Error fetching user profile:",w),null):y}catch(y){return console.error("Exception in fetchUserProfile:",y),null}},o=async g=>{var y,w;if(!g||!g.id)return null;try{const _=((y=g.user_metadata)==null?void 0:y.username)||((w=g.email)==null?void 0:w.split("@")[0])||`user_${Math.floor(Math.random()*1e4)}`,f={id:g.id,email:g.email,username:_,created_at:new Date().toISOString()},{data:h,error:v}=await _e.from("users").insert([f]).select().single();return v?(console.error("Error creating user profile:",v),null):h}catch(_){return console.error("Exception in createUserProfile:",_),null}},a=async g=>{if(!(!g||!r.current))try{let y=await s(g.id);y||(y=await o(g)),r.current&&i({user:g,profile:y,isAuthenticated:!0,loading:!1})}catch(y){console.error("Error syncing user with profile:",y),r.current&&i({user:g,profile:null,isAuthenticated:!0,loading:!1})}};S.useEffect(()=>{r.current=!0;let g=null;return(async()=>{try{const{data:_,error:f}=await _e.auth.getUser();if(f){console.error("Error fetching user:",f.message),i({user:null,profile:null,isAuthenticated:!1,loading:!1});return}_.user?a(_.user):i({user:null,profile:null,isAuthenticated:!1,loading:!1})}catch(_){console.error("Error in initialize:",_),i({user:null,profile:null,isAuthenticated:!1,loading:!1})}})(),(async()=>{const{data:_}=await _e.auth.onAuthStateChange((f,h)=>{r.current&&(h!=null&&h.user?a(h.user):i({user:null,profile:null,isAuthenticated:!1,loading:!1}))});g=_.subscription})(),()=>{r.current=!1,g&&g.unsubscribe()}},[]);const l=async(g,y)=>{try{const{data:w,error:_}=await _e.auth.signInWithPassword({email:g,password:y});return _?{success:!1,message:_.message}:(r.current&&a(w.user),{success:!0})}catch(w){return console.error("Login error:",w),{success:!1,message:w.message}}},u=async()=>{try{await _e.auth.signOut(),r.current&&i({user:null,profile:null,isAuthenticated:!1,loading:!1})}catch(g){console.error("Logout error:",g)}},c=async g=>{var y;if(!((y=e.user)!=null&&y.id))return{success:!1,message:"Not authenticated"};try{const{data:w,error:_}=await _e.from("users").update(g).eq("id",e.user.id).select().single();return _?(console.error("Error updating profile:",_),{success:!1,message:_.message}):(r.current&&i(f=>({...f,profile:w})),{success:!0,data:w})}catch(w){return console.error("Update profile error:",w),{success:!1,message:w.message}}},d=async g=>{try{const{data:y,error:w}=await _e.auth.updateUser({data:g});return w?(console.error("Error updating user metadata:",w),{success:!1,message:w.message}):(y.user&&r.current&&(i(_=>({..._,user:y.user})),g.username&&e.profile&&await c({username:g.username})),{success:!0})}catch(y){return console.error("Update metadata error:",y),{success:!1,message:y.message}}},p=async()=>{var g;if(!(!((g=e.user)!=null&&g.id)||!r.current))try{const y=await s(e.user.id);r.current&&y&&i(w=>({...w,profile:y}))}catch(y){console.error("Error refreshing profile:",y)}};return m.jsx(Gl.Provider,{value:{...e,login:l,logout:u,updateProfile:c,updateUserMetadata:d,refreshProfile:p},children:t})},wn=()=>S.useContext(Gl),V0=()=>{var s;const{user:t,profile:e,isAuthenticated:n,loading:r,logout:i}=wn();return console.log("Auth state in Header:",{isAuthenticated:n,userId:t==null?void 0:t.id}),m.jsx("header",{className:"header",children:m.jsx("div",{className:"container",children:m.jsxs("nav",{className:"nav",children:[m.jsx(Ce,{to:"/",className:"nav-logo",children:"Debate Platform"}),m.jsxs("ul",{className:"nav-links",children:[m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/debates",children:"Debates"})}),n&&m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/debates/create",children:"Create Debate"})}),m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/call",children:"Test Call"})}),n?m.jsxs(m.Fragment,{children:[m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/profile",children:(e==null?void 0:e.username)||((s=t==null?void 0:t.email)==null?void 0:s.split("@")[0])||"Profile"})}),m.jsx("li",{className:"nav-link",children:m.jsx("button",{onClick:()=>i(),className:"nav-button",children:"Sign Out"})})]}):m.jsxs(m.Fragment,{children:[m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/login",children:"Login"})}),m.jsx("li",{className:"nav-link",children:m.jsx(Ce,{to:"/signup",children:"Sign Up"})})]})]})]})})})},W0=()=>m.jsxs("div",{className:"home-page",children:[m.jsxs("section",{className:"hero",children:[m.jsx("h1",{children:"Welcome to the Debate Platform"}),m.jsx("p",{className:"lead",children:"Connect with others through real-time one-on-one debates using your webcam and microphone."}),m.jsxs("div",{className:"cta-buttons",children:[m.jsx(Ce,{to:"/debates",className:"btn",children:"Browse Debates"}),m.jsx(Ce,{to:"/debates/create",className:"btn btn-accent",style:{marginLeft:"1rem"},children:"Start a Debate"})]})]}),m.jsxs("section",{className:"features",children:[m.jsx("h2",{children:"How It Works"}),m.jsxs("div",{className:"feature-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"2rem",marginTop:"2rem"},children:[m.jsxs("div",{className:"feature-card card",children:[m.jsx("h3",{children:"Create a Topic"}),m.jsx("p",{children:"Post a debate topic that you're passionate about and provide a brief description."})]}),m.jsxs("div",{className:"feature-card card",children:[m.jsx("h3",{children:"Connect with Others"}),m.jsx("p",{children:"Another user can join your debate topic for a one-on-one discussion."})]}),m.jsxs("div",{className:"feature-card card",children:[m.jsx("h3",{children:"Debate in Real-Time"}),m.jsx("p",{children:"Once connected, engage in a P2P video debate with no time delay."})]})]})]})]}),H0=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(null),o=Et();wn(),S.useEffect(()=>{(async()=>{try{r(!0);const{data:u,error:c}=await _e.from("debate_topics").select(`
            *,
            categories(name),
            debate_rooms(
              id,
              status
            )
          `).order("created_at",{ascending:!1});if(c)throw c;const d=u.map(p=>{var y;const g=p.debate_rooms.find(w=>w.status==="waiting"||w.status==="active");return{id:p.id,title:p.title,description:p.description,category:((y=p.categories)==null?void 0:y.name)||"Uncategorized",status:p.status,createdAt:new Date(p.created_at).toLocaleString(),roomId:g==null?void 0:g.id,roomStatus:g==null?void 0:g.status}});e(d)}catch(u){console.error("Error fetching debates:",u),s("Failed to load debates. Please try again later.")}finally{r(!1)}})()},[]);const a=l=>{o(`/debates/${l}`)};return n?m.jsx("div",{className:"loading",children:"Loading debates..."}):i?m.jsx("div",{className:"error",children:i}):m.jsxs("div",{className:"debate-list-page",children:[m.jsxs("div",{className:"page-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[m.jsx("h1",{children:"Available Debates"}),m.jsx(Ce,{to:"/debates/create",className:"btn btn-accent",children:"Create New Debate"})]}),t.length===0?m.jsxs("div",{className:"no-debates card",children:[m.jsx("p",{children:"No debates available at the moment."}),m.jsx("p",{children:"Be the first to create a debate topic!"}),m.jsx(Ce,{to:"/debates/create",className:"btn",style:{marginTop:"1rem"},children:"Create Debate"})]}):m.jsx("div",{className:"debate-list",children:t.map(l=>m.jsxs("div",{className:"debate-card card",children:[m.jsx("h2",{children:l.title}),m.jsx("p",{children:l.description}),m.jsxs("div",{className:"debate-meta",style:{display:"flex",marginTop:"1rem",fontSize:"0.9rem",color:"var(--dark-gray)"},children:[m.jsxs("span",{children:["Category: ",l.category]}),m.jsx("span",{style:{marginLeft:"auto"},children:l.createdAt})]}),l.roomId?m.jsx("button",{onClick:()=>a(l.roomId),className:"btn",style:{marginTop:"1rem"},children:l.roomStatus==="waiting"?"Join Debate":"View Debate"}):m.jsx("button",{onClick:()=>o(`/debates/create?topicId=${l.id}`),className:"btn",style:{marginTop:"1rem"},children:"Start Debate"})]},l.id))})]})},q0=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState([]),[l,u]=S.useState(!1),[c,d]=S.useState(null),p=Et(),{authState:g}=wn();S.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await _e.from("categories").select("*").order("name");if(h){console.error("Error fetching categories:",h);return}a(f||[]),f&&f.length>0&&s(f[0].id)}catch(f){console.error("Failed to fetch categories:",f)}})()},[]);const y=()=>{if(g.isAuthenticated&&g.user)return g.user.id;let _=localStorage.getItem("userId");return _||(_="guest_"+Math.random().toString(36).substring(2,9),localStorage.setItem("userId",_)),_},w=async _=>{if(_.preventDefault(),!t.trim()||!n.trim()){d("Please provide both a title and description");return}try{u(!0),d(null);const{data:f,error:h}=await _e.from("debate_topics").insert({title:t,description:n,creator_id:y(),category_id:i}).select();if(h)throw new Error(h.message);const{data:v,error:k}=await _e.from("debate_rooms").insert({topic_id:f[0].id,status:"waiting"}).select();if(k)throw new Error(k.message);p(`/debates/${v[0].id}`)}catch(f){console.error("Failed to create debate:",f),d("Failed to create debate. Please try again."),u(!1)}};return m.jsxs("div",{className:"create-debate-page",children:[m.jsx("h1",{children:"Create a New Debate"}),c&&m.jsx("div",{className:"error-message",style:{color:"var(--error-color)",marginBottom:"1rem"},children:c}),m.jsx("div",{className:"card",children:m.jsxs("form",{onSubmit:w,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"title",children:"Debate Title"}),m.jsx("input",{type:"text",id:"title",className:"form-control",value:t,onChange:_=>e(_.target.value),placeholder:"e.g., Should AI be regulated?",required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"category",children:"Category"}),m.jsxs("select",{id:"category",className:"form-control",value:i,onChange:_=>s(_.target.value),required:!0,children:[o.length===0&&m.jsx("option",{value:"",children:"Loading categories..."}),o.map(_=>m.jsx("option",{value:_.id,children:_.name},_.id))]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"description",children:"Description"}),m.jsx("textarea",{id:"description",className:"form-control",value:n,onChange:_=>r(_.target.value),placeholder:"Provide context and key points for the debate...",rows:5,required:!0})]}),m.jsxs("div",{className:"form-actions",style:{marginTop:"1.5rem"},children:[m.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>p("/debates"),style:{marginRight:"1rem"},disabled:l,children:"Cancel"}),m.jsx("button",{type:"submit",className:"btn",disabled:l,children:l?"Creating...":"Create Debate"})]})]})})]})},ct=Object.create(null);ct.open="0";ct.close="1";ct.ping="2";ct.pong="3";ct.message="4";ct.upgrade="5";ct.noop="6";const Yi=Object.create(null);Object.keys(ct).forEach(t=>{Yi[ct[t]]=t});const za={type:"error",data:"parser error"},If=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",$f=typeof ArrayBuffer=="function",Df=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Yl=({type:t,data:e},n,r)=>If&&e instanceof Blob?n?r(e):Ic(e,r):$f&&(e instanceof ArrayBuffer||Df(e))?n?r(e):Ic(new Blob([e]),r):r(ct[t]+(e||"")),Ic=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function $c(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Lo;function K0(t,e){if(If&&t.data instanceof Blob)return t.data.arrayBuffer().then($c).then(e);if($f&&(t.data instanceof ArrayBuffer||Df(t.data)))return e($c(t.data));Yl(t,!1,n=>{Lo||(Lo=new TextEncoder),e(Lo.encode(n))})}const Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Dc.length;t++)xr[Dc.charCodeAt(t)]=t;const J0=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(r=0;r<n;r+=4)s=xr[t.charCodeAt(r)],o=xr[t.charCodeAt(r+1)],a=xr[t.charCodeAt(r+2)],l=xr[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return u},Q0=typeof ArrayBuffer=="function",Xl=(t,e)=>{if(typeof t!="string")return{type:"message",data:Uf(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:G0(t.substring(1),e)}:Yi[n]?t.length>1?{type:Yi[n],data:t.substring(1)}:{type:Yi[n]}:za},G0=(t,e)=>{if(Q0){const n=J0(t);return Uf(n,e)}else return{base64:!0,data:t}},Uf=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Bf=String.fromCharCode(30),Y0=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{Yl(s,!1,a=>{r[o]=a,++i===n&&e(r.join(Bf))})})},X0=(t,e)=>{const n=t.split(Bf),r=[];for(let i=0;i<n.length;i++){const s=Xl(n[i],e);if(r.push(s),s.type==="error")break}return r};function Z0(){return new TransformStream({transform(t,e){K0(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Io;function $i(t){return t.reduce((e,n)=>e+n.length,0)}function Di(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function ew(t,e){Io||(Io=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if($i(n)<1)break;const l=Di(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if($i(n)<2)break;const l=Di(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if($i(n)<8)break;const l=Di(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,53-32)-1){a.enqueue(za);break}i=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if($i(n)<i)break;const l=Di(n,i);a.enqueue(Xl(s?l:Io.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(za);break}}}})}const Ff=4;function se(t){if(t)return tw(t)}function tw(t){for(var e in se.prototype)t[e]=se.prototype[e];return t}se.prototype.on=se.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};se.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};se.prototype.off=se.prototype.removeListener=se.prototype.removeAllListeners=se.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};se.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};se.prototype.emitReserved=se.prototype.emit;se.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};se.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Xs=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),ze=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),nw="arraybuffer";function zf(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const rw=ze.setTimeout,iw=ze.clearTimeout;function Zs(t,e){e.useNativeTimers?(t.setTimeoutFn=rw.bind(ze),t.clearTimeoutFn=iw.bind(ze)):(t.setTimeoutFn=ze.setTimeout.bind(ze),t.clearTimeoutFn=ze.clearTimeout.bind(ze))}const sw=1.33;function ow(t){return typeof t=="string"?aw(t):Math.ceil((t.byteLength||t.size)*sw)}function aw(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Mf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function lw(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function uw(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class cw extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Zl extends se{constructor(e){super(),this.writable=!1,Zs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new cw(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Xl(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=lw(e);return n.length?"?"+n:""}}class dw extends Zl{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};X0(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Y0(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Mf()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Vf=!1;try{Vf=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hw=Vf;function fw(){}class pw extends dw{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class ut extends se{constructor(e,n,r){super(),this.createRequest=e,Zs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=zf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ut.requestsCount++,ut.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fw,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ut.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ut.requestsCount=0;ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Uc);else if(typeof addEventListener=="function"){const t="onpagehide"in ze?"pagehide":"unload";addEventListener(t,Uc,!1)}}function Uc(){for(let t in ut.requests)ut.requests.hasOwnProperty(t)&&ut.requests[t].abort()}const mw=function(){const t=Wf({xdomain:!1});return t&&t.responseType!==null}();class gw extends pw{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=mw&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ut(Wf,this.uri(),e)}}function Wf(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||hw))return new XMLHttpRequest}catch{}if(!e)try{return new ze[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Hf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class vw extends Zl{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=Hf?{}:zf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Yl(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&Xs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Mf()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const $o=ze.WebSocket||ze.MozWebSocket;class yw extends vw{createSocket(e,n,r){return Hf?new $o(e,n,r):n?new $o(e,n):new $o(e)}doWrite(e,n){this.ws.send(n)}}class ww extends Zl{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=ew(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Z0();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Xs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const _w={websocket:yw,webtransport:ww,polling:gw},kw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ma(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=kw.exec(t||""),s={},o=14;for(;o--;)s[Sw[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Ew(s,s.path),s.queryKey=xw(s,s.query),s}function Ew(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function xw(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const Va=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xi=[];Va&&addEventListener("offline",()=>{Xi.forEach(t=>t())},!1);class qt extends se{constructor(e,n){if(super(),this.binaryType=nw,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Ma(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ma(n.host).host);Zs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=uw(this.opts.query)),Va&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Ff,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&qt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=ow(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Xs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(qt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Va&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Xi.indexOf(this._offlineEventListener);r!==-1&&Xi.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}qt.protocol=Ff;class Cw extends qt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;qt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function s(){r||(r=!0,c(),n.close(),n=null)}const o=d=>{const p=new Error("probe error: "+d);p.transport=n.name,s(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(d){n&&d.name!==n.name&&s()}const c=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Tw=class extends Cw{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>_w[i]).filter(i=>!!i)),super(e,r)}};function Pw(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Ma(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Rw=typeof ArrayBuffer=="function",bw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,qf=Object.prototype.toString,jw=typeof Blob=="function"||typeof Blob<"u"&&qf.call(Blob)==="[object BlobConstructor]",Ow=typeof File=="function"||typeof File<"u"&&qf.call(File)==="[object FileConstructor]";function eu(t){return Rw&&(t instanceof ArrayBuffer||bw(t))||jw&&t instanceof Blob||Ow&&t instanceof File}function Zi(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Zi(t[n]))return!0;return!1}if(eu(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Zi(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Zi(t[n]))return!0;return!1}function Nw(t){const e=[],n=t.data,r=t;return r.data=Wa(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Wa(t,e){if(!t)return t;if(eu(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Wa(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Wa(t[r],e));return n}return t}function Aw(t,e){return t.data=Ha(t.data,e),delete t.attachments,t}function Ha(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ha(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ha(t[n],e));return t}const Lw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Iw=5;var U;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(U||(U={}));class $w{constructor(e){this.replacer=e}encode(e){return(e.type===U.EVENT||e.type===U.ACK)&&Zi(e)?this.encodeAsBinary({type:e.type===U.EVENT?U.BINARY_EVENT:U.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===U.BINARY_EVENT||e.type===U.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Nw(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Bc(t){return Object.prototype.toString.call(t)==="[object Object]"}class tu extends se{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===U.BINARY_EVENT;r||n.type===U.BINARY_ACK?(n.type=r?U.EVENT:U.ACK,this.reconstructor=new Dw(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(eu(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(U[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===U.BINARY_EVENT||r.type===U.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(tu.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case U.CONNECT:return Bc(n);case U.DISCONNECT:return n===void 0;case U.CONNECT_ERROR:return typeof n=="string"||Bc(n);case U.EVENT:case U.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Lw.indexOf(n[0])===-1);case U.ACK:case U.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Dw{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Aw(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Uw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tu,Encoder:$w,get PacketType(){return U},protocol:Iw},Symbol.toStringTag,{value:"Module"}));function Xe(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Bw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Kf extends se{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Xe(e,"open",this.onopen.bind(this)),Xe(e,"packet",this.onpacket.bind(this)),Xe(e,"error",this.onerror.bind(this)),Xe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(Bw.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:U.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,d=n.pop();this._registerAckCallback(c,d),o.id=c}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:U.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case U.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case U.EVENT:case U.BINARY_EVENT:this.onevent(e);break;case U.ACK:case U.BINARY_ACK:this.onack(e);break;case U.DISCONNECT:this.ondisconnect();break;case U.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:U.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:U.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function or(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}or.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};or.prototype.reset=function(){this.attempts=0};or.prototype.setMin=function(t){this.ms=t};or.prototype.setMax=function(t){this.max=t};or.prototype.setJitter=function(t){this.jitter=t};class qa extends se{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new or({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||Uw;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Tw(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Xe(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Xe(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Xe(e,"ping",this.onping.bind(this)),Xe(e,"data",this.ondata.bind(this)),Xe(e,"error",this.onerror.bind(this)),Xe(e,"close",this.onclose.bind(this)),Xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Xs(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Kf(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yr={};function Dr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Pw(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=yr[i]&&s in yr[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new qa(r,e):(yr[i]||(yr[i]=new qa(r,e)),l=yr[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Dr,{Manager:qa,Socket:Kf,io:Dr,connect:Dr});class Jf{constructor(e){this.socket=e,this.localStream=null,this.remoteStream=null,this.peerConnection=null,this.debateId=null,this.userId=null,this.onRemoteStreamCallback=null,this.onConnectionStateChangeCallback=null,this.isInitiator=!1,this.localRecorder=null,this.remoteRecorder=null,this.localAudioChunks=[],this.remoteAudioChunks=[],this.isRecording=!1}init(e,n){this.debateId=e,this.userId=n,this.setupSocketListeners(),this.setupPeerConnection(),console.log(`WebRTC service initialized for room ${e} and user ${n}`)}setupSocketListeners(){console.log("Setting up WebRTC socket listeners"),this.socket.on("offer",async({offer:e,from:n})=>{console.log("Received offer from peer",n),await this.handleOffer(e,n)}),this.socket.on("answer",async({answer:e})=>{console.log("Received answer from peer"),await this.handleAnswer(e)}),this.socket.on("ice_candidate",({candidate:e})=>{console.log("Received ICE candidate from peer"),this.handleIceCandidate(e)}),this.socket.on("debate_ready",({participants:e})=>{console.log("Debate ready, participants:",e),e[0]===this.userId?(console.log("I am the initiator, creating offer"),this.isInitiator=!0,setTimeout(()=>{this.createOffer()},1e3)):console.log("I am the receiver, waiting for offer")})}joinDebate(){console.log(`Joining debate room: ${this.debateId} as user: ${this.userId}`),this.socket.emit("join_debate",{debateId:this.debateId,userId:this.userId})}setupPeerConnection(){this.peerConnection&&this.peerConnection.close();const e={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};this.peerConnection=new RTCPeerConnection(e),console.log("RTCPeerConnection created"),this.peerConnection.onicecandidate=n=>{n.candidate&&(console.log("Generated ICE candidate"),this.socket.emit("ice_candidate",{debateId:this.debateId,candidate:n.candidate}))},this.peerConnection.oniceconnectionstatechange=()=>{console.log("ICE connection state:",this.peerConnection.iceConnectionState),this.peerConnection.iceConnectionState==="connected"&&console.log("ICE connected - peer connection established")},this.peerConnection.ontrack=n=>{console.log("Received remote track",n.streams[0]),this.remoteStream=n.streams[0],this.onRemoteStreamCallback&&this.onRemoteStreamCallback(this.remoteStream),this.isRecording&&this.setupRemoteStreamRecording()},this.peerConnection.onconnectionstatechange=()=>{const n=this.peerConnection.connectionState;console.log("Connection state changed:",n),this.onConnectionStateChangeCallback&&this.onConnectionStateChangeCallback(n)}}addLocalStreamToPeerConnection(){if(this.localStream&&this.peerConnection){console.log("Adding local tracks to peer connection");const n=this.peerConnection.getSenders().map(r=>r.track?r.track.id:null);this.localStream.getTracks().forEach(r=>{n.includes(r.id)?console.log(`Track ${r.kind} already exists in peer connection, skipping`):(console.log(`Adding ${r.kind} track to peer connection`),this.peerConnection.addTrack(r,this.localStream))})}else console.warn("Cannot add tracks - localStream or peerConnection not available")}setupRemoteStreamRecording(){if(!this.remoteStream||!this.isRecording)return;console.log("Setting up remote stream recording");const e=this.remoteStream.getAudioTracks();if(e.length===0){console.warn("No audio tracks found in remote stream");return}const n=new MediaStream(e),r={mimeType:"audio/webm",audioBitsPerSecond:128e3};try{this.remoteRecorder&&this.remoteRecorder.state!=="inactive"&&this.remoteRecorder.stop(),this.remoteRecorder=new MediaRecorder(n,r),this.remoteRecorder.ondataavailable=i=>{i.data.size>0&&this.remoteAudioChunks.push(i.data)},this.remoteRecorder.onstop=()=>{console.log("Remote recording stopped, chunks collected:",this.remoteAudioChunks.length)},this.remoteRecorder.start(1e3),console.log("Started remote audio recording")}catch(i){console.error("Failed to start remote recording:",i)}}async startLocalStream(){try{const e={audio:!0,video:{width:{ideal:1280},height:{ideal:720}}};return console.log("Requesting user media with constraints"),this.localStream=await navigator.mediaDevices.getUserMedia(e),console.log("Local stream obtained with tracks:",this.localStream.getTracks().map(n=>n.kind).join(", ")),this.addLocalStreamToPeerConnection(),this.localStream}catch(e){throw console.error("Error accessing media devices:",e),e}}async createOffer(){try{if(console.log("Creating offer"),this.addLocalStreamToPeerConnection(),this.peerConnection.signalingState!=="stable"){console.log("Cannot create offer - signaling state is not stable:",this.peerConnection.signalingState);return}const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});console.log("Setting local description (offer)"),await this.peerConnection.setLocalDescription(e),console.log("Sending offer to peer"),this.socket.emit("offer",{debateId:this.debateId,offer:e})}catch(e){console.error("Error creating offer:",e)}}async handleOffer(e,n){try{if(this.peerConnection.signalingState!=="stable")if(console.log("Cannot handle offer - signaling state is not stable:",this.peerConnection.signalingState),this.peerConnection.signalingState==="have-local-offer")console.log("Rolling back local description to handle incoming offer"),await this.peerConnection.setLocalDescription({type:"rollback"});else return;console.log("Setting remote description from offer"),await this.peerConnection.setRemoteDescription(new RTCSessionDescription(e)),this.addLocalStreamToPeerConnection(),console.log("Creating answer");const r=await this.peerConnection.createAnswer();console.log("Setting local description (answer)"),await this.peerConnection.setLocalDescription(r),console.log("Sending answer to peer"),this.socket.emit("answer",{debateId:this.debateId,answer:r})}catch(r){console.error("Error handling offer:",r)}}async handleAnswer(e){try{if(this.peerConnection.signalingState!=="have-local-offer"){console.log("Cannot handle answer - not in have-local-offer state:",this.peerConnection.signalingState);return}console.log("Setting remote description from answer"),await this.peerConnection.setRemoteDescription(new RTCSessionDescription(e)),console.log("Remote description set successfully")}catch(n){console.error("Error handling answer:",n)}}async handleIceCandidate(e){try{this.peerConnection&&(console.log("Adding received ICE candidate"),await this.peerConnection.addIceCandidate(new RTCIceCandidate(e)),console.log("ICE candidate added successfully"))}catch(n){console.error("Error handling ICE candidate:",n)}}onRemoteStream(e){this.onRemoteStreamCallback=e,this.remoteStream&&(e(this.remoteStream),this.isRecording&&this.setupRemoteStreamRecording())}onConnectionStateChange(e){this.onConnectionStateChangeCallback=e}toggleAudio(e){this.localStream&&this.localStream.getAudioTracks().forEach(n=>{n.enabled=e,console.log(`Audio ${e?"enabled":"disabled"}`)})}toggleVideo(e){this.localStream&&this.localStream.getVideoTracks().forEach(n=>{n.enabled=e,console.log(`Video ${e?"enabled":"disabled"}`)})}leaveDebate(){console.log(`Leaving debate: ${this.debateId}`),this.socket.emit("leave_debate",{debateId:this.debateId}),this.cleanup()}cleanup(){console.log("Cleaning up WebRTC resources"),this.isRecording&&(this.localRecorder&&this.localRecorder.state!=="inactive"&&this.localRecorder.stop(),this.remoteRecorder&&this.remoteRecorder.state!=="inactive"&&this.remoteRecorder.stop(),this.isRecording=!1),this.localRecorder=null,this.remoteRecorder=null,this.localAudioChunks=[],this.remoteAudioChunks=[],this.localStream&&(this.localStream.getTracks().forEach(e=>{e.stop(),console.log("Stopped local track",e.kind)}),this.localStream=null),this.remoteStream&&(this.remoteStream=null),this.peerConnection&&(this.peerConnection.onicecandidate=null,this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.ontrack=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.close(),this.peerConnection=null,console.log("Closed peer connection")),this.isInitiator=!1}startRecording(){if(this.isRecording){console.log("Recording already in progress");return}if(this.localAudioChunks=[],this.remoteAudioChunks=[],this.localStream){const e=new MediaStream(this.localStream.getAudioTracks()),n={mimeType:"audio/webm",audioBitsPerSecond:128e3};try{this.localRecorder=new MediaRecorder(e,n),this.localRecorder.ondataavailable=r=>{r.data.size>0&&this.localAudioChunks.push(r.data)},this.localRecorder.onstop=()=>{console.log("Local recording stopped, chunks collected:",this.localAudioChunks.length)},this.localRecorder.start(1e3),console.log("Started local audio recording")}catch(r){console.error("Failed to start local recording:",r)}}else console.warn("No local stream available for recording");if(this.remoteStream){const e=new MediaStream(this.remoteStream.getAudioTracks()),n={mimeType:"audio/webm",audioBitsPerSecond:128e3};try{this.remoteRecorder=new MediaRecorder(e,n),this.remoteRecorder.ondataavailable=r=>{r.data.size>0&&this.remoteAudioChunks.push(r.data)},this.remoteRecorder.onstop=()=>{console.log("Remote recording stopped, chunks collected:",this.remoteAudioChunks.length)},this.remoteRecorder.start(1e3),console.log("Started remote audio recording")}catch(r){console.error("Failed to start remote recording:",r)}}else console.warn("No remote stream available for recording yet");this.isRecording=!0}stopRecording(){return this.isRecording?new Promise(e=>{const n={};let r=0;const i=()=>{r--,r<=0&&(this.isRecording=!1,e(n))};this.localRecorder&&this.localRecorder.state!=="inactive"&&(r++,this.localRecorder.onstop=()=>{console.log("Local recording stopped");const s=new Blob(this.localAudioChunks,{type:"audio/webm"});n.local={blob:s,url:URL.createObjectURL(s),size:s.size},i()},this.localRecorder.stop()),this.remoteRecorder&&this.remoteRecorder.state!=="inactive"&&(r++,this.remoteRecorder.onstop=()=>{console.log("Remote recording stopped");const s=new Blob(this.remoteAudioChunks,{type:"audio/webm"});n.remote={blob:s,url:URL.createObjectURL(s),size:s.size},i()},this.remoteRecorder.stop()),r===0&&(this.isRecording=!1,e(n))}):(console.log("No recording in progress"),null)}async uploadRecordings(e){if(!e)return console.error("No recordings to upload"),null;const n={};if(e.local)try{const r=new FormData;r.append("audio",e.local.blob,"local-audio.webm"),r.append("debateId",this.debateId),r.append("userId",this.userId),r.append("streamType","local"),console.log("Uploading local recording...");const i=await fetch("/api/audio/upload",{method:"POST",body:r});if(i.ok)n.local=await i.json(),console.log("Local recording uploaded successfully");else throw new Error(`Server responded with ${i.status}`)}catch(r){console.error("Failed to upload local recording:",r),n.local={error:r.message}}if(e.remote)try{const r=new FormData;r.append("audio",e.remote.blob,"remote-audio.webm"),r.append("debateId",this.debateId),r.append("userId",this.userId),r.append("streamType","remote"),console.log("Uploading remote recording...");const i=await fetch("/api/audio/upload",{method:"POST",body:r});if(i.ok)n.remote=await i.json(),console.log("Remote recording uploaded successfully");else throw new Error(`Server responded with ${i.status}`)}catch(r){console.error("Failed to upload remote recording:",r),n.remote={error:r.message}}return n}}const Fw=()=>{const{id:t}=Zg(),e=Et(),{authState:n}=wn(),[r,i]=S.useState(null),[s,o]=S.useState(null),[a,l]=S.useState(!0),[u,c]=S.useState(null),[d,p]=S.useState("new"),[g,y]=S.useState(!0),[w,_]=S.useState(!0),[f,h]=S.useState(!1),[v,k]=S.useState("idle"),[x,P]=S.useState(0),[R,b]=S.useState(0),O=S.useRef(null),L=S.useRef(null),H=S.useRef(null),F=S.useRef(null),ee=S.useRef(null),hi=()=>n.isAuthenticated&&n.user?n.user.id:userId;S.useEffect(()=>{(async()=>{try{const{data:M,error:ye}=await _e.from("debate_rooms").select("*").eq("id",t).single();if(ye)throw new Error(ye.message);i(M);const{data:xt,error:te}=await _e.from("debate_topics").select("*, categories(*)").eq("id",M.topic_id).single();if(te)throw new Error(te.message);o(xt),l(!1)}catch(M){console.error("Failed to fetch debate data:",M),c("Failed to load debate. Please try again."),l(!1)}})()},[t]),S.useEffect(()=>{if(a||u)return;let j=!0;H.current=Dr(),F.current=new Jf(H.current);const M=hi();F.current.init(t,M),F.current.onRemoteStream(te=>{L.current&&j&&(L.current.srcObject=te)}),F.current.onConnectionStateChange(te=>{j&&(p(te),(te==="disconnected"||te==="failed"||te==="closed")&&console.log("Peer disconnected or connection failed"))}),(async()=>{try{const te=await F.current.startLocalStream();O.current&&j&&(O.current.srcObject=te),F.current.joinDebate()}catch(te){console.error("Failed to start media:",te),j&&c("Failed to access camera or microphone. Please check permissions and try again.")}})(),fi("active");const xt=()=>{console.log("Window closing, cleaning up debate resources"),F.current&&F.current.leaveDebate()};return window.addEventListener("beforeunload",xt),()=>{j=!1,window.removeEventListener("beforeunload",xt),F.current&&(F.current.leaveDebate(),F.current=null),H.current&&(H.current.disconnect(),H.current=null)}},[t,a,u]);const fi=async j=>{try{console.log(`Updating debate ${t} status to ${j}`);const M=await fetch(`/api/debates/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:j})});if(!M.ok){const ye=await M.text();throw console.error(`Failed to update debate status: ${ye}`),new Error(`Failed to update debate status: ${M.status}`)}return M.json()}catch(M){throw console.error("Error updating debate status:",M),M}},ar=()=>{if(F.current){const j=!g;F.current.toggleAudio(j),y(j)}},lr=()=>{if(F.current){const j=!w;F.current.toggleVideo(j),_(j)}},C=()=>{fi("open").then(()=>{F.current&&(F.current.leaveDebate(),F.current=null),H.current&&(H.current.disconnect(),H.current=null),e("/debates")}).catch(j=>{console.error("Error leaving debate:",j),e("/debates")})},N=()=>{if(!F.current){console.error("WebRTC service not available");return}try{F.current.startRecording(),h(!0),k("recording");let j=0;ee.current=setInterval(()=>{j+=1,P(j)},1e3),console.log("Started debate recording")}catch(j){console.error("Failed to start recording:",j),k("error")}},I=async()=>{if(!(!F.current||!f))try{ee.current&&(clearInterval(ee.current),ee.current=null),k("processing");const j=await F.current.stopRecording();if(!j)throw new Error("No recordings were captured");console.log("Recordings obtained:",j),k("uploading");const M=await F.current.uploadRecordings(j);if(!M)throw new Error("Failed to upload recordings");console.log("Upload results:",M),k("uploaded"),h(!1),M.local&&M.local.transcriptionId&&M.remote&&M.remote.transcriptionId&&console.log("Transcription IDs obtained, debate will be processed")}catch(j){console.error("Error in recording process:",j),k("error"),h(!1)}},Q=j=>{const M=Math.floor(j/60),ye=j%60;return`${M.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`};return S.useEffect(()=>()=>{ee.current&&clearInterval(ee.current)},[]),a?m.jsx("div",{className:"loading",children:"Loading debate room..."}):u?m.jsx("div",{className:"error-container",children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Error"}),m.jsx("p",{children:u}),m.jsx("button",{className:"btn",onClick:()=>e("/debates"),children:"Back to Debates"})]})}):m.jsxs("div",{className:"debate-room-page",children:[m.jsxs("div",{className:"debate-info card",children:[m.jsx("h1",{children:s==null?void 0:s.title}),m.jsx("p",{children:s==null?void 0:s.description}),(s==null?void 0:s.categories)&&m.jsxs("div",{className:"category-tag",children:["Category: ",s.categories.name]})]}),m.jsxs("div",{className:"connection-status",children:["Connection:",m.jsx("span",{className:`status-${d}`,style:{marginLeft:"0.5rem"},children:d==="connected"?"Connected to peer":d==="connecting"?"Connecting...":d==="disconnected"||d==="failed"||d==="closed"?"Disconnected":"Waiting for peer..."})]}),m.jsxs("div",{className:"video-container",children:[m.jsxs("div",{className:"video-wrapper",children:[m.jsx("video",{ref:O,className:"video-element local-video",autoPlay:!0,muted:!0,playsInline:!0}),m.jsx("div",{className:"video-label",children:"You"})]}),m.jsxs("div",{className:"video-wrapper",children:[m.jsx("video",{ref:L,className:"video-element remote-video",autoPlay:!0,playsInline:!0}),m.jsx("div",{className:"video-label",children:"Peer"})]})]}),m.jsxs("div",{className:"video-controls",children:[m.jsx("button",{className:`control-btn ${g?"":"off"}`,onClick:ar,title:g?"Mute Audio":"Unmute Audio",children:g?"":""}),m.jsx("button",{className:`control-btn ${w?"":"off"}`,onClick:lr,title:w?"Turn Off Camera":"Turn On Camera",children:w?"":""}),d==="connected"&&m.jsx("button",{className:`control-btn ${f?"recording":""}`,onClick:f?I:N,disabled:v==="processing"||v==="uploading",title:f?"Stop Recording":"Start Recording",children:f?"":""}),m.jsx("button",{className:"control-btn btn-danger",onClick:C,title:"Leave Debate",children:""})]}),v!=="idle"&&m.jsxs("div",{className:`recording-status ${v}`,children:[v==="recording"&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"recording-indicator"}),m.jsxs("span",{children:["Recording: ",Q(x)]})]}),v==="processing"&&m.jsx("span",{children:"Processing recording..."}),v==="uploading"&&m.jsxs("span",{children:["Uploading recording... (",R,"%)"]}),v==="uploaded"&&m.jsx("span",{children:"Recording uploaded successfully!"}),v==="error"&&m.jsx("span",{children:"Recording error. Please try again."})]})]})},zw=()=>{const t="test-call-room",e=Et(),{authState:n}=wn(),[r,i]=S.useState(!0),[s,o]=S.useState(null),[a,l]=S.useState("new"),[u,c]=S.useState(!0),[d,p]=S.useState(!0),[g,y]=S.useState(0),w=S.useRef(null),_=S.useRef(null),f=S.useRef(null),h=S.useRef(null),v=()=>{if(n.isAuthenticated&&n.user)return n.user.id;let O=localStorage.getItem("userId");return O||(O="guest_"+Math.random().toString(36).substring(2,9),localStorage.setItem("userId",O)),O},k=async()=>{try{if(!(await fetch("/api/test/reset",{method:"POST"})).ok)throw new Error("Failed to reset test room");window.location.reload()}catch(O){console.error("Error resetting test room:",O),o("Failed to reset test room. Please try refreshing the page.")}};S.useEffect(()=>{let O=!0;return(async()=>{try{h.current&&(h.current.leaveDebate(),h.current=null),f.current&&(f.current.disconnect(),f.current=null),f.current=Dr(),console.log("Socket.io connection established"),h.current=new Jf(f.current);const H=v();console.log(`Setting up connection as user: ${H}`),f.current.on("participant_count",({count:ee})=>{O&&(console.log(`Participant count updated: ${ee}`),y(ee))}),h.current.init(t,H),h.current.onRemoteStream(ee=>{console.log("Received remote stream",ee),_.current&&(_.current.srcObject=ee)}),h.current.onConnectionStateChange(ee=>{O&&(console.log("Connection state changed:",ee),l(ee))}),console.log("Requesting local media stream");const F=await h.current.startLocalStream();console.log("Local stream obtained:",F),O&&w.current&&(w.current.srcObject=F),console.log("Joining test room"),h.current.joinDebate(),i(!1)}catch(H){console.error("Failed to setup connection:",H),O&&(o("Failed to access camera or microphone. Please check permissions and try again."),i(!1))}})(),()=>{O=!1,h.current&&h.current.leaveDebate(),f.current&&f.current.disconnect()}},[]);const x=()=>{if(h.current){const O=!u;h.current.toggleAudio(O),c(O)}},P=()=>{if(h.current){const O=!d;h.current.toggleVideo(O),p(O)}},R=()=>{h.current&&h.current.leaveDebate(),e("/")},b=()=>{h.current&&h.current.leaveDebate(),f.current&&f.current.disconnect(),window.location.reload()};return r?m.jsx("div",{className:"loading",children:"Setting up test call..."}):s?m.jsx("div",{className:"error-container",children:m.jsxs("div",{className:"card",children:[m.jsx("h2",{children:"Error"}),m.jsx("p",{children:s}),m.jsx("button",{className:"btn",onClick:b,children:"Try Again"})]})}):m.jsxs("div",{className:"debate-room-page",children:[m.jsxs("div",{className:"debate-info card",children:[m.jsx("h1",{children:"WebRTC Test Call"}),m.jsx("p",{children:"This is a test room for WebRTC functionality. Open this page in two different browser windows to test the connection."}),m.jsxs("p",{className:"participant-info",children:["Current participants: ",g,g<2&&" - Waiting for another participant to join..."]}),m.jsxs("div",{style:{marginTop:"1rem"},children:[m.jsx("button",{className:"btn btn-secondary",onClick:k,children:"Reset Test Room"}),m.jsx("button",{className:"btn",onClick:b,style:{marginLeft:"0.5rem"},children:"Refresh Page"})]})]}),m.jsxs("div",{className:"connection-status",children:["Connection:",m.jsx("span",{className:`status-${a}`,style:{marginLeft:"0.5rem"},children:a==="connected"?"Connected to peer":a==="connecting"?"Connecting...":a==="disconnected"||a==="failed"||a==="closed"?"Disconnected":"Waiting for peer..."})]}),m.jsxs("div",{className:"video-container",children:[m.jsxs("div",{className:"video-wrapper",children:[m.jsx("video",{ref:w,className:"video-element local-video",autoPlay:!0,muted:!0,playsInline:!0}),m.jsx("div",{className:"video-label",children:"You"})]}),m.jsxs("div",{className:"video-wrapper",children:[m.jsx("video",{ref:_,className:"video-element remote-video",autoPlay:!0,playsInline:!0}),m.jsx("div",{className:"video-label",children:"Peer"})]})]}),m.jsxs("div",{className:"video-controls",children:[m.jsx("button",{className:`control-btn ${u?"":"off"}`,onClick:x,title:u?"Mute Audio":"Unmute Audio",children:u?"":""}),m.jsx("button",{className:`control-btn ${d?"":"off"}`,onClick:P,title:d?"Turn Off Camera":"Turn On Camera",children:d?"":""}),m.jsx("button",{className:"control-btn btn-danger",onClick:R,title:"Leave Call",children:""})]})]})},Mw=()=>m.jsx("div",{className:"not-found-page",children:m.jsxs("div",{className:"card",style:{textAlign:"center",maxWidth:"600px",margin:"0 auto"},children:[m.jsx("h1",{children:"404 - Page Not Found"}),m.jsx("p",{children:"The page you are looking for does not exist."}),m.jsx(Ce,{to:"/",className:"btn",style:{marginTop:"1.5rem"},children:"Return to Home"})]})}),Vw="https://qyxqfaykmmvaycxpincf.supabase.co",Ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF5eHFmYXlrbW12YXljeHBpbmNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM4OTM0ODcsImV4cCI6MjA0OTQ2OTQ4N30.hsRBp8xSijqTbWEjiWmDOsLwj78_Z7ygu--Kl3AFaeg",Ps=Lf(Vw,Ww);function Hw(){const[t,e]=S.useState({username:"",email:"",password:"",confirmPassword:""}),[n,r]=S.useState({}),[i,s]=S.useState(!1),o=Et(),a=c=>{const{name:d,value:p}=c.target;e(g=>({...g,[d]:p})),n[d]&&r(g=>({...g,[d]:""}))},l=()=>{const c={};return t.username.trim()?t.username.length<3&&(c.username="Username must be at least 3 characters"):c.username="Username is required",t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(c.email="Email is invalid"):c.email="Email is required",t.password?t.password.length<6&&(c.password="Password must be at least 6 characters"):c.password="Password is required",t.password!==t.confirmPassword&&(c.confirmPassword="Passwords do not match"),r(c),Object.keys(c).length===0},u=async c=>{if(c.preventDefault(),l()){s(!0);try{const{data:d,error:p}=await Ps.auth.signUp({email:t.email,password:t.password,options:{data:{username:t.username}}});if(p)throw p;if(d.user){const{error:g}=await Ps.from("users").insert([{id:d.user.id,username:t.username,email:t.email}]);if(g)throw g}o("/login",{state:{message:"Registration successful! Please check your email to confirm your account."}})}catch(d){r({submit:d.message||"An error occurred during signup"})}finally{s(!1)}}};return m.jsx("div",{className:"auth-container",children:m.jsxs("div",{className:"auth-form",children:[m.jsx("h1",{children:"Create an Account"}),n.submit&&m.jsx("div",{className:"error-message",children:n.submit}),m.jsxs("form",{onSubmit:u,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"username",children:"Username"}),m.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:a,className:n.username?"input-error":""}),n.username&&m.jsx("p",{className:"error-text",children:n.username})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:a,className:n.email?"input-error":""}),n.email&&m.jsx("p",{className:"error-text",children:n.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:a,className:n.password?"input-error":""}),n.password&&m.jsx("p",{className:"error-text",children:n.password})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),m.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:a,className:n.confirmPassword?"input-error":""}),n.confirmPassword&&m.jsx("p",{className:"error-text",children:n.confirmPassword})]}),m.jsx("button",{type:"submit",className:"submit-button",disabled:i,children:i?"Signing Up...":"Sign Up"})]}),m.jsxs("div",{className:"auth-footer",children:["Already have an account? ",m.jsx(Ce,{to:"/login",children:"Log in"})]})]})})}function qw(){const{authState:t,login:e}=wn(),[n,r]=S.useState(""),[i,s]=S.useState(""),[o,a]=S.useState(""),l=Et();S.useEffect(()=>{t.isAuthenticated&&!t.isLoading&&l("/")},[t.isAuthenticated,t.isLoading,l]);const u=async c=>{c.preventDefault(),a("");const d=await e(n,i);d.success?l("/"):a(d.message||"Invalid email or password.")};return t.isLoading?m.jsx("div",{className:"loading",children:"Loading..."}):m.jsx("div",{className:"container login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsx("h2",{className:"login-title",children:"Login"}),m.jsxs("form",{className:"login-form",onSubmit:u,children:[m.jsx("input",{type:"email",value:n,onChange:c=>r(c.target.value),placeholder:"Email",required:!0}),m.jsx("input",{type:"password",value:i,onChange:c=>s(c.target.value),placeholder:"Password",required:!0}),m.jsx("button",{type:"submit",children:"Login"})]}),m.jsxs("div",{className:"login-signup-link",children:["Don't have an account?"," ",m.jsx(Ce,{to:"/signup",children:"Sign up"})]}),o&&m.jsx("p",{className:"login-error",children:o})]})})}function Kw(){var _;const{user:t,profile:e,refreshProfile:n}=wn(),r=Et(),[i,s]=S.useState(!0),[o,a]=S.useState(!1),[l,u]=S.useState({username:"",bio:""}),[c,d]=S.useState(null),[p,g]=S.useState(null);S.useEffect(()=>{var f;t?(u({username:(e==null?void 0:e.username)||((f=t==null?void 0:t.user_metadata)==null?void 0:f.username)||"",bio:(e==null?void 0:e.bio)||""}),s(!1)):r("/login")},[t,e,r]);const y=f=>{const{name:h,value:v}=f.target;u(k=>({...k,[h]:v}))},w=async f=>{f.preventDefault();try{s(!0),d(null);const{error:h}=await Ps.from("users").update({username:l.username,bio:l.bio,updated_at:new Date().toISOString()}).eq("id",t.id);if(h)throw h;const{error:v}=await Ps.auth.updateUser({data:{username:l.username}});if(v)throw v;g("Profile updated successfully!"),a(!1),n()}catch(h){d(h.message),console.error("Error updating profile:",h)}finally{s(!1)}};return i&&!e?m.jsx("div",{className:"profile-container",children:"Loading profile..."}):m.jsxs("div",{className:"profile-container",children:[m.jsxs("div",{className:"profile-header",children:[m.jsx("h1",{children:"My Profile"}),!o&&m.jsx("button",{onClick:()=>a(!0),className:"edit-button",children:"Edit Profile"})]}),c&&m.jsx("div",{className:"error-message",children:c}),p&&m.jsx("div",{className:"success-message",children:p}),o?m.jsxs("form",{onSubmit:w,className:"profile-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"username",children:"Username"}),m.jsx("input",{type:"text",id:"username",name:"username",value:l.username,onChange:y,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"bio",children:"Bio"}),m.jsx("textarea",{id:"bio",name:"bio",value:l.bio,onChange:y,rows:"4",placeholder:"Tell us about yourself..."})]}),m.jsxs("div",{className:"profile-actions",children:[m.jsx("button",{type:"submit",className:"save-button",disabled:i,children:i?"Saving...":"Save Changes"}),m.jsx("button",{type:"button",onClick:()=>{var f;a(!1),u({username:(e==null?void 0:e.username)||((f=t==null?void 0:t.user_metadata)==null?void 0:f.username)||"",bio:(e==null?void 0:e.bio)||""})},className:"cancel-button",children:"Cancel"})]})]}):m.jsxs("div",{className:"profile-info",children:[m.jsxs("div",{className:"profile-section",children:[m.jsx("h2",{children:"Username"}),m.jsx("p",{children:(e==null?void 0:e.username)||((_=t==null?void 0:t.user_metadata)==null?void 0:_.username)||"Not set"})]}),m.jsxs("div",{className:"profile-section",children:[m.jsx("h2",{children:"Bio"}),m.jsx("p",{children:(e==null?void 0:e.bio)||"No bio provided."})]}),m.jsxs("div",{className:"profile-section",children:[m.jsx("h2",{children:"Email"}),m.jsx("p",{children:t==null?void 0:t.email})]}),m.jsxs("div",{className:"profile-section",children:[m.jsx("h2",{children:"Account Created"}),m.jsx("p",{children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():new Date(t==null?void 0:t.created_at).toLocaleDateString()})]})]})]})}function Ui({children:t}){const e=S.useContext(Gl);return console.log("Auth in ProtectedRoute:",e),e!=null&&e.loading?m.jsx("div",{className:"loading",children:"Loading..."}):e!=null&&e.isAuthenticated?t:m.jsx(uf,{to:"/login",replace:!0})}function Jw(){return m.jsx(M0,{children:m.jsxs("div",{className:"app",children:[m.jsx(V0,{}),m.jsx("main",{className:"container",children:m.jsxs(mv,{children:[m.jsx(Je,{path:"/",element:m.jsx(W0,{})}),m.jsx(Je,{path:"/debates",element:m.jsx(Ui,{children:m.jsx(H0,{})})}),m.jsx(Je,{path:"/debates/create",element:m.jsx(Ui,{children:m.jsx(q0,{})})}),m.jsx(Je,{path:"/debates/:id",element:m.jsx(Ui,{children:m.jsx(Fw,{})})}),m.jsx(Je,{path:"/profile",element:m.jsx(Ui,{children:m.jsx(Kw,{})})}),m.jsx(Je,{path:"/call",element:m.jsx(zw,{})}),m.jsx(Je,{path:"/login",element:m.jsx(qw,{})}),m.jsx(Je,{path:"/signup",element:m.jsx(Hw,{})}),m.jsx(Je,{path:"/404",element:m.jsx(Mw,{})}),m.jsx(Je,{path:"*",element:m.jsx(uf,{to:"/404",replace:!0})})]})})]})})}Do.createRoot(document.getElementById("root")).render(m.jsx(Gc.StrictMode,{children:m.jsx(Sv,{children:m.jsx(Jw,{})})}));export{Gf as g};
